<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>git 常用命令与 gitflow 工作流 | 小武子知识库</title>
    <meta name="description" content="用心，谈技术。大前端">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="icon" href="/hero.jpg">
    
    <link rel="preload" href="/assets/css/0.styles.23dd1510.css" as="style"><link rel="preload" href="/assets/js/app.baa22728.js" as="script"><link rel="preload" href="/assets/js/2.c7f5c1a5.js" as="script"><link rel="preload" href="/assets/js/263.60349f6d.js" as="script"><link rel="preload" href="/assets/js/3.fb5a4386.js" as="script"><link rel="prefetch" href="/assets/js/10.b5814c7f.js"><link rel="prefetch" href="/assets/js/100.c587b795.js"><link rel="prefetch" href="/assets/js/101.89b9dcaa.js"><link rel="prefetch" href="/assets/js/102.ba653854.js"><link rel="prefetch" href="/assets/js/103.1c10d2c0.js"><link rel="prefetch" href="/assets/js/104.e50a200b.js"><link rel="prefetch" href="/assets/js/105.3dd63fb6.js"><link rel="prefetch" href="/assets/js/106.1d23e9a2.js"><link rel="prefetch" href="/assets/js/107.f4d8c5cd.js"><link rel="prefetch" href="/assets/js/108.ccfaddcc.js"><link rel="prefetch" href="/assets/js/109.4aa4d03d.js"><link rel="prefetch" href="/assets/js/11.61939ed3.js"><link rel="prefetch" href="/assets/js/110.0597af8f.js"><link rel="prefetch" href="/assets/js/111.088fce28.js"><link rel="prefetch" href="/assets/js/112.ce4a136c.js"><link rel="prefetch" href="/assets/js/113.44809a19.js"><link rel="prefetch" href="/assets/js/114.8ae4ac58.js"><link rel="prefetch" href="/assets/js/115.c5d0b9a2.js"><link rel="prefetch" href="/assets/js/116.c4bfc5c1.js"><link rel="prefetch" href="/assets/js/117.7915c21e.js"><link rel="prefetch" href="/assets/js/118.8e97dc24.js"><link rel="prefetch" href="/assets/js/119.b0c3b4ac.js"><link rel="prefetch" href="/assets/js/12.820effe9.js"><link rel="prefetch" href="/assets/js/120.9cd5fc67.js"><link rel="prefetch" href="/assets/js/121.62990022.js"><link rel="prefetch" href="/assets/js/122.12c60760.js"><link rel="prefetch" href="/assets/js/123.5ee09deb.js"><link rel="prefetch" href="/assets/js/124.8f323c56.js"><link rel="prefetch" href="/assets/js/125.62de6d0b.js"><link rel="prefetch" href="/assets/js/126.13f74d5c.js"><link rel="prefetch" href="/assets/js/127.d5189736.js"><link rel="prefetch" href="/assets/js/128.59e6b48e.js"><link rel="prefetch" href="/assets/js/129.0fc169bd.js"><link rel="prefetch" href="/assets/js/13.c955b99a.js"><link rel="prefetch" href="/assets/js/130.6fa4e7cf.js"><link rel="prefetch" href="/assets/js/131.97b83fd4.js"><link rel="prefetch" href="/assets/js/132.385874f1.js"><link rel="prefetch" href="/assets/js/133.09c9fa92.js"><link rel="prefetch" href="/assets/js/134.2eb370fc.js"><link rel="prefetch" href="/assets/js/135.b0479567.js"><link rel="prefetch" href="/assets/js/136.fbef33e6.js"><link rel="prefetch" href="/assets/js/137.013e5a1f.js"><link rel="prefetch" href="/assets/js/138.0d478d8e.js"><link rel="prefetch" href="/assets/js/139.aec681a9.js"><link rel="prefetch" href="/assets/js/14.4395fced.js"><link rel="prefetch" href="/assets/js/140.9c526b8d.js"><link rel="prefetch" href="/assets/js/141.2aaf1e0f.js"><link rel="prefetch" href="/assets/js/142.ff3b5b43.js"><link rel="prefetch" href="/assets/js/143.eecaab39.js"><link rel="prefetch" href="/assets/js/144.d04c1051.js"><link rel="prefetch" href="/assets/js/145.6f008dbb.js"><link rel="prefetch" href="/assets/js/146.4af3f61d.js"><link rel="prefetch" href="/assets/js/147.f4963c30.js"><link rel="prefetch" href="/assets/js/148.907178d2.js"><link rel="prefetch" href="/assets/js/149.75b60306.js"><link rel="prefetch" href="/assets/js/15.07e722b9.js"><link rel="prefetch" href="/assets/js/150.22682306.js"><link rel="prefetch" href="/assets/js/151.82cc5f2e.js"><link rel="prefetch" href="/assets/js/152.4c847d5b.js"><link rel="prefetch" href="/assets/js/153.53dd5997.js"><link rel="prefetch" href="/assets/js/154.706d7db3.js"><link rel="prefetch" href="/assets/js/155.044f3cef.js"><link rel="prefetch" href="/assets/js/156.8ee58785.js"><link rel="prefetch" href="/assets/js/157.6f9a4992.js"><link rel="prefetch" href="/assets/js/158.8d41f6d3.js"><link rel="prefetch" href="/assets/js/159.16ccf000.js"><link rel="prefetch" href="/assets/js/16.e41b6458.js"><link rel="prefetch" href="/assets/js/160.5670812f.js"><link rel="prefetch" href="/assets/js/161.af33ce69.js"><link rel="prefetch" href="/assets/js/162.cca4aa66.js"><link rel="prefetch" href="/assets/js/163.4c5ac581.js"><link rel="prefetch" href="/assets/js/164.672f1884.js"><link rel="prefetch" href="/assets/js/165.6610d32e.js"><link rel="prefetch" href="/assets/js/166.660f35a9.js"><link rel="prefetch" href="/assets/js/167.52209cb1.js"><link rel="prefetch" href="/assets/js/168.955e0297.js"><link rel="prefetch" href="/assets/js/169.b168db99.js"><link rel="prefetch" href="/assets/js/17.2a216e35.js"><link rel="prefetch" href="/assets/js/170.5d9e2372.js"><link rel="prefetch" href="/assets/js/171.dc525f04.js"><link rel="prefetch" href="/assets/js/172.0853e368.js"><link rel="prefetch" href="/assets/js/173.e04e87ae.js"><link rel="prefetch" href="/assets/js/174.ae4f6f2c.js"><link rel="prefetch" href="/assets/js/175.6bf5ad2d.js"><link rel="prefetch" href="/assets/js/176.81a43c70.js"><link rel="prefetch" href="/assets/js/177.72373eff.js"><link rel="prefetch" href="/assets/js/178.b2d6c320.js"><link rel="prefetch" href="/assets/js/179.75bbecdb.js"><link rel="prefetch" href="/assets/js/18.25841ce0.js"><link rel="prefetch" href="/assets/js/180.8ad6ae45.js"><link rel="prefetch" href="/assets/js/181.72b27c02.js"><link rel="prefetch" href="/assets/js/182.1567d2c2.js"><link rel="prefetch" href="/assets/js/183.a6ad33a7.js"><link rel="prefetch" href="/assets/js/184.9d3cd774.js"><link rel="prefetch" href="/assets/js/185.8912842f.js"><link rel="prefetch" href="/assets/js/186.71c0e83a.js"><link rel="prefetch" href="/assets/js/187.e9b4d5fa.js"><link rel="prefetch" href="/assets/js/188.c74d5db3.js"><link rel="prefetch" href="/assets/js/189.65e700ed.js"><link rel="prefetch" href="/assets/js/19.e9f416b2.js"><link rel="prefetch" href="/assets/js/190.b726232d.js"><link rel="prefetch" href="/assets/js/191.19fa0a94.js"><link rel="prefetch" href="/assets/js/192.3cf18d0f.js"><link rel="prefetch" href="/assets/js/193.919e0951.js"><link rel="prefetch" href="/assets/js/194.c5ed9938.js"><link rel="prefetch" href="/assets/js/195.7a3feb6d.js"><link rel="prefetch" href="/assets/js/196.12065e13.js"><link rel="prefetch" href="/assets/js/197.2f0cd6af.js"><link rel="prefetch" href="/assets/js/198.495efcfd.js"><link rel="prefetch" href="/assets/js/199.8be844a0.js"><link rel="prefetch" href="/assets/js/20.c75409b7.js"><link rel="prefetch" href="/assets/js/200.356f3998.js"><link rel="prefetch" href="/assets/js/201.2d48407b.js"><link rel="prefetch" href="/assets/js/202.9d121c73.js"><link rel="prefetch" href="/assets/js/203.616c3bbd.js"><link rel="prefetch" href="/assets/js/204.5cc99f94.js"><link rel="prefetch" href="/assets/js/205.96e92ca1.js"><link rel="prefetch" href="/assets/js/206.311cdadf.js"><link rel="prefetch" href="/assets/js/207.e84350fa.js"><link rel="prefetch" href="/assets/js/208.8ed56bee.js"><link rel="prefetch" href="/assets/js/209.d4d2afaa.js"><link rel="prefetch" href="/assets/js/21.859bd6ba.js"><link rel="prefetch" href="/assets/js/210.d7fcf9f6.js"><link rel="prefetch" href="/assets/js/211.824db5a6.js"><link rel="prefetch" href="/assets/js/212.f8bdeabd.js"><link rel="prefetch" href="/assets/js/213.d9b86f76.js"><link rel="prefetch" href="/assets/js/214.aba05d9c.js"><link rel="prefetch" href="/assets/js/215.70405980.js"><link rel="prefetch" href="/assets/js/216.7c3e531f.js"><link rel="prefetch" href="/assets/js/217.db0c14aa.js"><link rel="prefetch" href="/assets/js/218.9c59b90b.js"><link rel="prefetch" href="/assets/js/219.3304635c.js"><link rel="prefetch" href="/assets/js/22.99ba97f7.js"><link rel="prefetch" href="/assets/js/220.cde1cf55.js"><link rel="prefetch" href="/assets/js/221.d388eb7b.js"><link rel="prefetch" href="/assets/js/222.ab3763c4.js"><link rel="prefetch" href="/assets/js/223.bd8e6675.js"><link rel="prefetch" href="/assets/js/224.56665636.js"><link rel="prefetch" href="/assets/js/225.62f012f6.js"><link rel="prefetch" href="/assets/js/226.3b273ce6.js"><link rel="prefetch" href="/assets/js/227.67205dbb.js"><link rel="prefetch" href="/assets/js/228.d5080694.js"><link rel="prefetch" href="/assets/js/229.270aa654.js"><link rel="prefetch" href="/assets/js/23.5a4df1f7.js"><link rel="prefetch" href="/assets/js/230.61a12227.js"><link rel="prefetch" href="/assets/js/231.e6ab1a50.js"><link rel="prefetch" href="/assets/js/232.27050bbf.js"><link rel="prefetch" href="/assets/js/233.0133b468.js"><link rel="prefetch" href="/assets/js/234.56b85f65.js"><link rel="prefetch" href="/assets/js/235.5a59d080.js"><link rel="prefetch" href="/assets/js/236.b6906c09.js"><link rel="prefetch" href="/assets/js/237.6d5fff89.js"><link rel="prefetch" href="/assets/js/238.a4f6537b.js"><link rel="prefetch" href="/assets/js/239.5068ba7c.js"><link rel="prefetch" href="/assets/js/24.108b175d.js"><link rel="prefetch" href="/assets/js/240.e7c79573.js"><link rel="prefetch" href="/assets/js/241.d8ce78ae.js"><link rel="prefetch" href="/assets/js/242.248ca082.js"><link rel="prefetch" href="/assets/js/243.f50c6dd3.js"><link rel="prefetch" href="/assets/js/244.7e56726c.js"><link rel="prefetch" href="/assets/js/245.5621d5b8.js"><link rel="prefetch" href="/assets/js/246.579bc88a.js"><link rel="prefetch" href="/assets/js/247.8653400f.js"><link rel="prefetch" href="/assets/js/248.545bf7a3.js"><link rel="prefetch" href="/assets/js/249.ad68e493.js"><link rel="prefetch" href="/assets/js/25.9bec3ab2.js"><link rel="prefetch" href="/assets/js/250.85f4a958.js"><link rel="prefetch" href="/assets/js/251.7a1640ba.js"><link rel="prefetch" href="/assets/js/252.d1317a6d.js"><link rel="prefetch" href="/assets/js/253.f771edd3.js"><link rel="prefetch" href="/assets/js/254.9a116fb3.js"><link rel="prefetch" href="/assets/js/255.e11d5cbd.js"><link rel="prefetch" href="/assets/js/256.646f19ee.js"><link rel="prefetch" href="/assets/js/257.b812d6f6.js"><link rel="prefetch" href="/assets/js/258.0b22c66a.js"><link rel="prefetch" href="/assets/js/259.ea247dc0.js"><link rel="prefetch" href="/assets/js/26.8bade763.js"><link rel="prefetch" href="/assets/js/260.215c27d4.js"><link rel="prefetch" href="/assets/js/261.7e285569.js"><link rel="prefetch" href="/assets/js/262.278dff93.js"><link rel="prefetch" href="/assets/js/264.bbe333ee.js"><link rel="prefetch" href="/assets/js/265.737799ab.js"><link rel="prefetch" href="/assets/js/266.af9ac37a.js"><link rel="prefetch" href="/assets/js/267.ea7ec394.js"><link rel="prefetch" href="/assets/js/268.25debc70.js"><link rel="prefetch" href="/assets/js/269.e61c11df.js"><link rel="prefetch" href="/assets/js/27.b63340ef.js"><link rel="prefetch" href="/assets/js/270.56241371.js"><link rel="prefetch" href="/assets/js/271.561d71ab.js"><link rel="prefetch" href="/assets/js/272.d2bad5cf.js"><link rel="prefetch" href="/assets/js/273.296aeb6b.js"><link rel="prefetch" href="/assets/js/274.acc7d2cf.js"><link rel="prefetch" href="/assets/js/275.af32a7f8.js"><link rel="prefetch" href="/assets/js/276.1bafe83e.js"><link rel="prefetch" href="/assets/js/277.a351c1b2.js"><link rel="prefetch" href="/assets/js/278.0bb051ef.js"><link rel="prefetch" href="/assets/js/279.a03bcf03.js"><link rel="prefetch" href="/assets/js/28.1d258493.js"><link rel="prefetch" href="/assets/js/280.15875a74.js"><link rel="prefetch" href="/assets/js/281.18ffdb92.js"><link rel="prefetch" href="/assets/js/282.fe5ad5ee.js"><link rel="prefetch" href="/assets/js/283.e7ecb13c.js"><link rel="prefetch" href="/assets/js/29.bd377a97.js"><link rel="prefetch" href="/assets/js/30.1018cb9a.js"><link rel="prefetch" href="/assets/js/31.65acd4bc.js"><link rel="prefetch" href="/assets/js/32.409739be.js"><link rel="prefetch" href="/assets/js/33.69e03757.js"><link rel="prefetch" href="/assets/js/34.d6fc28c0.js"><link rel="prefetch" href="/assets/js/35.712d8aba.js"><link rel="prefetch" href="/assets/js/36.3fcce8e2.js"><link rel="prefetch" href="/assets/js/37.1e92a31f.js"><link rel="prefetch" href="/assets/js/38.73987429.js"><link rel="prefetch" href="/assets/js/39.e5547972.js"><link rel="prefetch" href="/assets/js/4.d4cd7ccf.js"><link rel="prefetch" href="/assets/js/40.ed2d5743.js"><link rel="prefetch" href="/assets/js/41.5937a976.js"><link rel="prefetch" href="/assets/js/42.93a62ef3.js"><link rel="prefetch" href="/assets/js/43.d9d95be4.js"><link rel="prefetch" href="/assets/js/44.3d866a5e.js"><link rel="prefetch" href="/assets/js/45.d769564d.js"><link rel="prefetch" href="/assets/js/46.3708c582.js"><link rel="prefetch" href="/assets/js/47.b8c17fc7.js"><link rel="prefetch" href="/assets/js/48.ec82d440.js"><link rel="prefetch" href="/assets/js/49.25631c99.js"><link rel="prefetch" href="/assets/js/5.162e5946.js"><link rel="prefetch" href="/assets/js/50.9cba3410.js"><link rel="prefetch" href="/assets/js/51.5f4a4b02.js"><link rel="prefetch" href="/assets/js/52.a92370bc.js"><link rel="prefetch" href="/assets/js/53.df9c5827.js"><link rel="prefetch" href="/assets/js/54.b1547a48.js"><link rel="prefetch" href="/assets/js/55.5cc0b0e7.js"><link rel="prefetch" href="/assets/js/56.4febbc6d.js"><link rel="prefetch" href="/assets/js/57.d468b91d.js"><link rel="prefetch" href="/assets/js/58.076f02e0.js"><link rel="prefetch" href="/assets/js/59.4783c989.js"><link rel="prefetch" href="/assets/js/6.85ac22e0.js"><link rel="prefetch" href="/assets/js/60.5a1a0d42.js"><link rel="prefetch" href="/assets/js/61.15ca30c1.js"><link rel="prefetch" href="/assets/js/62.d24ec3f1.js"><link rel="prefetch" href="/assets/js/63.963ee59b.js"><link rel="prefetch" href="/assets/js/64.41407cb9.js"><link rel="prefetch" href="/assets/js/65.74f76aad.js"><link rel="prefetch" href="/assets/js/66.cf31d978.js"><link rel="prefetch" href="/assets/js/67.19148e58.js"><link rel="prefetch" href="/assets/js/68.f09c7ab8.js"><link rel="prefetch" href="/assets/js/69.a66fe805.js"><link rel="prefetch" href="/assets/js/7.a08b6725.js"><link rel="prefetch" href="/assets/js/70.cbeb0042.js"><link rel="prefetch" href="/assets/js/71.503559f2.js"><link rel="prefetch" href="/assets/js/72.d29a766f.js"><link rel="prefetch" href="/assets/js/73.a956bc4a.js"><link rel="prefetch" href="/assets/js/74.58c90c0f.js"><link rel="prefetch" href="/assets/js/75.32ea836b.js"><link rel="prefetch" href="/assets/js/76.242d4b8c.js"><link rel="prefetch" href="/assets/js/77.976e79ef.js"><link rel="prefetch" href="/assets/js/78.67b641da.js"><link rel="prefetch" href="/assets/js/79.dcaac197.js"><link rel="prefetch" href="/assets/js/8.9eeaea9f.js"><link rel="prefetch" href="/assets/js/80.38b6b70c.js"><link rel="prefetch" href="/assets/js/81.e78ca45b.js"><link rel="prefetch" href="/assets/js/82.57b8ac51.js"><link rel="prefetch" href="/assets/js/83.658b84a8.js"><link rel="prefetch" href="/assets/js/84.fc476eed.js"><link rel="prefetch" href="/assets/js/85.d75f0c5e.js"><link rel="prefetch" href="/assets/js/86.0b3bbb1b.js"><link rel="prefetch" href="/assets/js/87.8873b025.js"><link rel="prefetch" href="/assets/js/88.a04c1b66.js"><link rel="prefetch" href="/assets/js/89.61c277b9.js"><link rel="prefetch" href="/assets/js/9.52d49724.js"><link rel="prefetch" href="/assets/js/90.c7c331fc.js"><link rel="prefetch" href="/assets/js/91.6cd8dcbd.js"><link rel="prefetch" href="/assets/js/92.d5eff7b6.js"><link rel="prefetch" href="/assets/js/93.da015b99.js"><link rel="prefetch" href="/assets/js/94.6bae9540.js"><link rel="prefetch" href="/assets/js/95.ec9360ab.js"><link rel="prefetch" href="/assets/js/96.a69822d9.js"><link rel="prefetch" href="/assets/js/97.3e207c5f.js"><link rel="prefetch" href="/assets/js/98.7f16148f.js"><link rel="prefetch" href="/assets/js/99.b9c7869d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.23dd1510.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">小武子知识库</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/js/" class="nav-link">
  javascript
</a></div><div class="nav-item"><a href="/css/" class="nav-link">
  css
</a></div><div class="nav-item"><a href="/html5/" class="nav-link">
  HTML5
</a></div><div class="nav-item"><a href="/tool/" class="nav-link router-link-active">
  工具
</a></div><div class="nav-item"><a href="/project/" class="nav-link">
  软件工程
</a></div><div class="nav-item"><a href="/cs/" class="nav-link">
  计算机基础
</a></div><div class="nav-item"><a href="/interview/" class="nav-link">
  面试题
</a></div><div class="nav-item"><a href="/materials/" class="nav-link">
  资料收集
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于作者
</a></div><div class="nav-item"><a href="https://www.github.com/fttony" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/js/" class="nav-link">
  javascript
</a></div><div class="nav-item"><a href="/css/" class="nav-link">
  css
</a></div><div class="nav-item"><a href="/html5/" class="nav-link">
  HTML5
</a></div><div class="nav-item"><a href="/tool/" class="nav-link router-link-active">
  工具
</a></div><div class="nav-item"><a href="/project/" class="nav-link">
  软件工程
</a></div><div class="nav-item"><a href="/cs/" class="nav-link">
  计算机基础
</a></div><div class="nav-item"><a href="/interview/" class="nav-link">
  面试题
</a></div><div class="nav-item"><a href="/materials/" class="nav-link">
  资料收集
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于作者
</a></div><div class="nav-item"><a href="https://www.github.com/fttony" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>git版本工具</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tool/git.html" class="active sidebar-link">git 常用命令与 gitflow 工作流</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tool/git.html#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header"><a href="/tool/git.html#内容" class="sidebar-link">内容</a></li><li class="sidebar-sub-header"><a href="/tool/git.html#联系作者" class="sidebar-link">联系作者</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>WEB集成化</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tool/ci-cd.html" class="sidebar-link">CI 与 CD 介绍</a></li><li><a href="/tool/npm-2.html" class="sidebar-link">npm 相关参数</a></li><li><a href="/tool/npm-1.html" class="sidebar-link">私有 npm 仓库搭建</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>webpack打包</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tool/webpack-basic.html" class="sidebar-link">webpack 配置</a></li><li><a href="/tool/webpack-babel.html" class="sidebar-link">babel 学习</a></li><li><a href="/tool/webpack-plugin.html" class="sidebar-link">webpack 插件及手写</a></li><li><a href="/tool/webpack-loader.html" class="sidebar-link">常用 loader 及手写 loader</a></li><li><a href="/tool/webpack-optimize.html" class="sidebar-link">webpack 打包优化</a></li><li><a href="/tool/webpack-principle.html" class="sidebar-link">webpack 原理</a></li><li><a href="/tool/webpack-hmr.html" class="sidebar-link">Webpack HMR 原理解析（转载）</a></li><li><a href="/tool/webpack-coder.html" class="sidebar-link">webpack 源码分析</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>其它打包工具</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tool/gulp-basic.html" class="sidebar-link">gulp 入门学习</a></li><li><a href="/tool/rollup-basic.html" class="sidebar-link">rollup常用配置</a></li><li><a href="/tool/gulp-plugin.html" class="sidebar-link">gulp插件</a></li><li><a href="/tool/pm2.html" class="sidebar-link">pm2 工具</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>自定义脚手架</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tool/cli.html" class="sidebar-link">自定义脚手架</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>容器工具</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tool/docker.html" class="sidebar-link">docker 学习</a></li><li><a href="/tool/k8s.html" class="sidebar-link">Kubernetes学习</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ngnix配置</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tool/nginx.html" class="sidebar-link">nginx 常用配置</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="git-常用命令与-gitflow-工作流"><a href="#git-常用命令与-gitflow-工作流" class="header-anchor">#</a> git 常用命令与 gitflow 工作流</h1> <h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <p>本人平时学习及收集内容，欢迎参入一起讨论。</p> <h2 id="内容"><a href="#内容" class="header-anchor">#</a> 内容</h2> <ul><li><a href="#%E4%B8%80%E3%80%81%E5%88%86%E6%94%AF%E6%A8%A1%E5%9E%8B">分支模型</a></li> <li><a href="#%E4%BA%8C%E3%80%81git-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%B8%85%E5%8D%95">Git 常用命令清单</a></li> <li><a href="#%E4%B8%89%E3%80%81git-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E5%AF%BC%E5%9B%BE">Git 常用命令导图</a></li></ul> <h3 id="一、分支模型"><a href="#一、分支模型" class="header-anchor">#</a> 一、分支模型</h3> <p>用 git flow 初始化工程目录完成后，只能看到两个分支（长期分支）：</p> <ul><li>master 分支：用于上线的分支，保护性分支，只包含经过测试的稳定代码，开发人员不能直接工作在此分支上，也不能直接提交改动到 master 分支上。</li> <li>develop 分支：是开发人员进行任何新的开发的基础分支，当开始一个新的 feature 分支的时候，要从 develop 分出去；另外此分支也汇集所有的已完成的功能，等待合并到 master 分支上线。上面两个分支被称为 长期分支 ，存在于项目的整个生命周期中，其他分支，是临时性的，根据需要来创建，当完成了自己的任务后，就会被删掉。</li> <li>feature 分支：平常的开发工作使用最频繁的分支。</li></ul> <p>创建功能分支，如下命令会创建一个名为”feature/” 的功能分支，该分支默认从 develop 检出，在做功能性开发的时候，检出一个独立的分支，是版本控制中一个重要 的原则。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git flow feature start &lt;branch-name&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>完成功能分支：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git flow feature finish &lt;branch-name&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>该命令会把我们在当前分支的代码整合到‘develop’分支中去，之后，git-flow 会进行清理操作，删除当下完成的功能分支，将分支切换到‘develop’。</p> <ul><li>release 分支：发布分支</li></ul> <p>创建 release 分支命令如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git flow release start 1.1.5
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>当你认为现在的‘develop’分支的代码已经是一个成熟的 release 版本的时候，这意味着，首先它包括所有新功能和必要的修复；其二，它已经被彻底的测试过了。如果上述两点都满足，那就是时候创建 release 分支了。
note：release 分支是使用版本号命名的，这个命名方案会让 Git-flow 在我们完成 release 后，适当的自动去标记那些 release 提交。</p> <p>完成 release 分支：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git flow release finish 1.1.5
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上述命令会完成如下一系列操作：</p> <ul><li><code>git-flow</code>会拉取远程仓库，确保目前是最新的版本。</li> <li><code>release</code> 内容会被合并到 master 和 develop 两个长期分支中去。这样不仅产品代码是最新的，新开的功能分支也将基于最新的代码。</li></ul> <p>为了便于识别和做历史参考，release 提交会被标记上这个<code>release</code>的名字清理操作，版本分支会被删除，并且回到 develop 分支。</p> <blockquote><p>note： 从 Git 的角度看来，release 版本现在已经完成，依据设置，对 master 的提交可能已经触发了编译部署流程。或者手动部署。</p></blockquote> <ul><li>hotfix 分支：很多时候，当对 release 版本做全面测试的时候，可能就会发现一些小错误，在这种情况下，git-flow 会提供一个特定的 hotfix 工作流程。</li></ul> <p>创建 hotfix 分支:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git flow hotfix start bug-fixed
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上述命令会创建一个名为：<code>hotfix/bug-fixed</code> 的分支，这是对产品代码的修复，所以<code>hotfix</code>分支是基于<code>master</code>分支检出的。
这也是和<code>release</code>分支最明显的区别，<code>release</code>分支是基于<code>develop</code>分支检出的。因为不能再一个还不完全稳定的分支上对产品代码进行修复。
就像<code>release</code>一样，修复这个错误，会直接影响到项目的版本号。</p> <p>完成 hotfix 分支：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git flow hotfix finish bug-fixed
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上述命令类似于发布一个<code>release</code>版本：</p> <ul><li>完成的改动会被合并到<code>master</code>中，同样也会合并到<code>develop</code>分支中，这样就可以确保这个错误不会再次出现在下一个<code>release</code>中；</li> <li>这个<code>hotfix</code>将会被标记起来以便于参考；</li> <li>当前的<code>hotfix</code>分支将会被删除，然后切换到<code>develop</code>分支；</li></ul> <blockquote><p>note： 完成<code>hotfix</code>分支之后，自动或手动启动编译部署流程</p></blockquote> <p>下图为整体流程图：</p> <p><img src="git01.png" alt="images"></p> <h4 id="主要分支"><a href="#主要分支" class="header-anchor">#</a> 主要分支</h4> <ul><li>master: 永远处在即将发布(production-ready)状态</li> <li>develop: 最新的开发状态</li></ul> <h4 id="辅助分支"><a href="#辅助分支" class="header-anchor">#</a> 辅助分支</h4> <ul><li><code>feature</code>: 开发新功能的分支, 基于 develop, 完成后 merge 回 develop</li> <li><code>release</code>: 准备要发布版本的分支, 用来修复 bug. 基于 develop, 完成后 merge 回 develop 和 master</li> <li><code>hotfix</code>: 修复 master 上的问题, 等不及 release 版本就必须马上上线. 基于 master, 完成后 merge 回 master 和 develop</li></ul> <h4 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h4> <p><strong>主要分支</strong></p> <ul><li>master: 永远处在即将发布(production-ready)状态</li> <li>develop: 最新的开发状态</li></ul> <p><strong>辅助分支</strong></p> <ul><li>feature: 开发新功能的分支, 基于 develop, 完成后 merge 回 develop</li> <li>release: 准备要发布版本的分支, 用来修复 bug. 基于 develop, 完成后 merge 回 develop 和 master</li> <li>hotfix: 修复 master 上的问题, 等不及 release 版本就必须马上上线. 基于 master, 完成后 merge 回 master 和 develop</li></ul> <h3 id="二、git-常用命令清单"><a href="#二、git-常用命令清单" class="header-anchor">#</a> 二、Git 常用命令清单</h3> <p>git 整体流程图：</p> <p><img src="git02.png" alt="images"></p> <ul><li>初始化仓库</li> <li>配置 Git</li> <li>增加删除文件</li> <li>代码提交</li> <li>分支命令</li> <li>标签命令</li> <li>查看信息</li> <li>远程同步</li> <li>撤销</li></ul> <h3 id="初始化仓库"><a href="#初始化仓库" class="header-anchor">#</a> 初始化仓库</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code># 在当前目录新建一个Git代码库
$ git init

# 新建一个目录，将其初始化为Git代码库
$ git init [project-name]

# 下载一个项目和它的整个代码历史
$ git clone [url]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="配置-git"><a href="#配置-git" class="header-anchor">#</a> 配置 Git</h3> <p>Git 的设置文件为 .gitconfig，它可以在用户主目录下（全局配置），也可以在项目目录下（项目配置）。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># 显示当前的Git配置
$ git config --list

# 编辑Git配置文件
$ git config -e [--global]

# 设置提交代码时的用户信息
$ git config [--global] user.name &quot;[name]&quot;
$ git config [--global] user.email &quot;[email address]&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="增加删除文件"><a href="#增加删除文件" class="header-anchor">#</a> 增加删除文件</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code># 添加指定文件到暂存区
$ git add [file1] [file2] ...

# 添加指定目录到暂存区，包括子目录
$ git add [dir]

# 添加当前目录的所有文件到暂存区
$ git add .

# 添加每个变化前，都会要求确认
# 对于同一个文件的多处变化，可以实现分次提交
$ git add -p

# 删除工作区文件，并且将这次删除放入暂存区
$ git rm [file1] [file2] ...

# 停止追踪指定文件，但该文件会保留在工作区
$ git rm --cached [file]

# 改名文件，并且将这个改名放入暂存区
$ git mv [file-original] [file-renamed]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="代码提交"><a href="#代码提交" class="header-anchor">#</a> 代码提交</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code># 提交暂存区到仓库区
$ git commit -m [message]

# 提交暂存区的指定文件到仓库区
$ git commit [file1] [file2] ... -m [message]

# 提交工作区自上次commit之后的变化，直接到仓库区
$ git commit -a

# 提交时显示所有diff信息
$ git commit -v

# 使用一次新的commit，替代上一次提交
# 如果代码没有任何新变化，则用来改写上一次commit的提交信息
$ git commit --amend -m [message]

# 重做上一次commit，并包括指定文件的新变化
$ git commit --amend [file1] [file2] ...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="分支命令"><a href="#分支命令" class="header-anchor">#</a> 分支命令</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code># 列出所有本地分支
$ git branch

# 列出所有远程分支
$ git branch -r

# 列出所有本地分支和远程分支
$ git branch -a

# 新建一个分支，但依然停留在当前分支
$ git branch [branch-name]

# 新建一个分支，并切换到该分支
$ git checkout -b [branch]

# 新建一个分支，指向指定commit
$ git branch [branch] [commit]

# 新建一个分支，与指定的远程分支建立追踪关系
$ git branch --track [branch] [remote-branch]

# 切换到指定分支，并更新工作区
$ git checkout [branch-name]

# 切换到上一个分支
$ git checkout -

# 建立追踪关系，在现有分支与指定的远程分支之间
$ git branch --set-upstream [branch] [remote-branch]

# 合并指定分支到当前分支
$ git merge [branch]

# 选择一个commit，合并进当前分支
$ git cherry-pick [commit]

# 删除分支
$ git branch -d [branch-name]

# 删除远程分支
$ git push origin --delete [branch-name]
$ git branch -dr [remote/branch]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><h3 id="标签命令"><a href="#标签命令" class="header-anchor">#</a> 标签命令</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code># 列出所有tag
$ git tag

# 新建一个tag在当前commit
$ git tag [tag]

# 新建一个tag在指定commit
$ git tag [tag] [commit]

# 删除本地tag
$ git tag -d [tag]

# 删除远程tag
$ git push origin :refs/tags/[tagName]

# 查看tag信息
$ git show [tag]

# 提交指定tag
$ git push [remote] [tag]

# 提交所有tag
$ git push [remote] --tags

# 新建一个分支，指向某个tag
$ git checkout -b [branch] [tag]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="查看信息"><a href="#查看信息" class="header-anchor">#</a> 查看信息</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code># 显示有变更的文件
$ git status

# 显示当前分支的版本历史
$ git log

# 显示commit历史，以及每次commit发生变更的文件
$ git log --stat

# 搜索提交历史，根据关键词
$ git log -S [keyword]

# 显示某个commit之后的所有变动，每个commit占据一行
$ git log [tag] HEAD --pretty=format:%s

# 显示某个commit之后的所有变动，其&quot;提交说明&quot;必须符合搜索条件
$ git log [tag] HEAD --grep feature

# 显示某个文件的版本历史，包括文件改名
$ git log --follow [file]
$ git whatchanged [file]

# 显示指定文件相关的每一次diff
$ git log -p [file]

# 显示过去5次提交
$ git log -5 --pretty --oneline

# 显示所有提交过的用户，按提交次数排序
$ git shortlog -sn

# 显示指定文件是什么人在什么时间修改过
$ git blame [file]

# 显示暂存区和工作区的差异
$ git diff

# 显示暂存区和上一个commit的差异
$ git diff --cached [file]

# 显示工作区与当前分支最新commit之间的差异
$ git diff HEAD

# 显示两次提交之间的差异
$ git diff [first-branch]...[second-branch]

# 显示今天你写了多少行代码
$ git diff --shortstat &quot;@{0 day ago}&quot;

# 显示某次提交的元数据和内容变化
$ git show [commit]

# 显示某次提交发生变化的文件
$ git show --name-only [commit]

# 显示某次提交时，某个文件的内容
$ git show [commit]:[filename]

# 显示当前分支的最近几次提交
$ git reflog
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br></div></div><h3 id="远程同步"><a href="#远程同步" class="header-anchor">#</a> 远程同步</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code># 下载远程仓库的所有变动
$ git fetch [remote]

# 显示所有远程仓库
$ git remote -v

# 显示某个远程仓库的信息
$ git remote show [remote]

# 增加一个新的远程仓库，并命名
$ git remote add [shortname] [url]

# 取回远程仓库的变化，并与本地分支合并
$ git pull [remote] [branch]

# 上传本地指定分支到远程仓库
$ git push [remote] [branch]

# 强行推送当前分支到远程仓库，即使有冲突
$ git push [remote] --force

# 推送所有分支到远程仓库
$ git push [remote] --all
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h4 id="撤销"><a href="#撤销" class="header-anchor">#</a> 撤销</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code># 恢复暂存区的指定文件到工作区
$ git checkout [file]

# 恢复某个commit的指定文件到暂存区和工作区
$ git checkout [commit] [file]

# 恢复暂存区的所有文件到工作区
$ git checkout .

# 重置暂存区的指定文件，与上一次commit保持一致，但工作区不变
$ git reset [file]

# 重置暂存区与工作区，与上一次commit保持一致
$ git reset --hard

# 重置当前分支的指针为指定commit，同时重置暂存区，但工作区不变
$ git reset [commit]

# 重置当前分支的HEAD为指定commit，同时重置暂存区和工作区，与指定commit一致
$ git reset --hard [commit]

# 重置当前HEAD为指定commit，但保持暂存区和工作区不变
$ git reset --keep [commit]

# 新建一个commit，用来撤销指定commit
# 后者的所有变化都将被前者抵消，并且应用到当前分支
$ git revert [commit]

# 暂时将未提交的变化移除，稍后再移入
$ git stash
$ git stash pop
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h4 id="git-reset、git-revert-和-git-checkout-有什么区别"><a href="#git-reset、git-revert-和-git-checkout-有什么区别" class="header-anchor">#</a> git reset、git revert 和 git checkout 有什么区别</h4> <p>这个问题同样也需要先了解 git 仓库的三个组成部分：工作区（Working Directory）、暂存区（Stage）和历史记录区（History）。</p> <ul><li>工作区：在 git 管理下的正常目录都算是工作区，我们平时的编辑工作都是在工作区完成</li> <li>暂存区：临时区域。里面存放将要提交文件的快照</li> <li>历史记录区：git commit 后记录区</li></ul> <p>三个区的转换关系以及转换所使用的命令：</p> <p><img src="git03.png" alt="images"></p> <p><code>git reset</code>、<code>git revert</code> 和 <code>git checkout</code>的共同点：用来撤销代码仓库中的某些更改。</p> <p>不同点：</p> <ul><li>从<code>commit</code>层面来说：
<ul><li><code>git reset</code>可以将一个分支的末端指向之前的一个<code>commit</code>。然后再下次<code>git</code>执行垃圾回收的时候，会把这个<code>commit</code>之后的<code>commit</code>都扔掉。<code>git reset</code>还支持三种标记，用来标记<code>reset</code>指令影响的范围：
<ul><li><code>--mixed</code>：会影响到暂存区和历史记录区。也是默认选项</li> <li><code>--soft</code>：只影响历史记录区</li> <li><code>--hard</code>：影响工作区、暂存区和历史记录区
<blockquote><p>注意：因为 git reset 是删除 commit 记录，从而会影响到其他开发人员的分支，所以不要在公共分支（比如 develop）做这个操作。</p></blockquote></li></ul></li> <li><code>gitcheckout</code>：可以 HEAD 移到一个新的分支，并更新工作目录。因为可能会覆盖本地的修改，所以执行这个指令之前，你需要 stash 或者 commit 暂存区和工作区的更改。</li> <li><code>git revert</code>和<code>git reset</code>的目的是一样的，但是做法不同，它会以创建新的 commit 的方式来撤销 commit，这样能保留之前的 commit 历史，比较安全。另外，同样因为可能会覆盖本地的修改，所以执行这个指令之前，你需要 stash 或者 commit 暂存区和工作区的更改。</li></ul></li> <li>从文件层面来说：
<ul><li><code>git reset</code>只是把文件从历史记录区拿到暂存区，不影响工作区的内容，而且不支持<code>--mixed</code>、<code>--soft</code>和<code>--hard</code>。</li> <li><code>git checkout</code>则是把文件从历史记录拿到工作，不影响暂存区的内容。</li> <li><code>git revert</code>不支持文件层面的操作。</li></ul></li></ul> <h4 id="rebase-与-merge-的区别"><a href="#rebase-与-merge-的区别" class="header-anchor">#</a> rebase 与 merge 的区别?</h4> <p><code>git rebase</code>和<code>git merge</code>一样都是用于从一个分支获取并且合并到当前分支。</p> <p>假设一个场景，就是我们开发的<code>[feature/todo]</code>分支要合并到 master 主分支，那么用<code>rebase</code>或者<code>merge</code>有什么不同呢？</p> <p><img src="git04.png" alt="images"></p> <ul><li>merge 特点：自动创建创建一个新的 commit 如果合并的时候遇到冲突，仅需要修改后重新 commit</li> <li>优点：记录了真实的 commit 情况，包括每个分支的详情</li> <li>缺点：因为每次 merge 会自动产生一个<code>merge commit</code>，所以在使用 git 的 GUI tools，特别是 commit 比较频繁时，看到分支很杂乱。</li></ul> <p><img src="git05.png" alt="images"></p> <ul><li>rebase 特点：会合并之前的 commit 历史</li> <li>优点：得到更简洁的项目历史，去掉了 merge commit</li> <li>缺点：如果合并出现代码问题不容易定位，因为 re-write 了 history</li></ul> <p>因此，当需要保留详细的合并信息的时候建议使用 git merge，特别是需要将分支合并进入 master 分支时；当发现自己修改某个功能时，频繁进行了 git commit 提交时，发现其实过多的提交信息没必要时，可以尝试 git rebase。</p> <h3 id="三、git-常用命令导图"><a href="#三、git-常用命令导图" class="header-anchor">#</a> 三、Git 常用命令导图</h3> <p><img src="git-Commands.png" alt="images"></p> <h3 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h3> <ul><li><a href="https://juejin.im/post/5ad99c05f265da0b9265231b" target="_blank" rel="noopener noreferrer">git 常用命令收集与 git-flow 简介<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.cnblogs.com/jiuyi/p/7690615.html" target="_blank" rel="noopener noreferrer">Gitflow 工作流<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.git-tower.com/learn/git/ebook/cn/command-line/advanced-topics/git-flow" target="_blank" rel="noopener noreferrer">git-flow 的工作流程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/frank-lam/fullstack-tutorial/blob/master/notes/Git%E5%B7%A5%E4%BD%9C%E6%B5%81.md" target="_blank" rel="noopener noreferrer">Git 工作流<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/geeeeeeeeek/git-recipes" target="_blank" rel="noopener noreferrer">git 学习<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/oldratlee/translations/tree/master/git-workflows-and-tutorials" target="_blank" rel="noopener noreferrer">Git 工作流指南<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/ftTony/blog/issues/27" target="_blank" rel="noopener noreferrer">git 常用命令<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/521xueweihan/git-tips" target="_blank" rel="noopener noreferrer">Git 的奇技淫巧<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/geeeeeeeeek/git-recipes" target="_blank" rel="noopener noreferrer">高质量的 Git 中文教程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://gitbook.liuhui998.com/index.html" target="_blank" rel="noopener noreferrer">Git Community Book 中文版<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/phodal/github" target="_blank" rel="noopener noreferrer">GitHub 漫游指南<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="联系作者"><a href="#联系作者" class="header-anchor">#</a> 联系作者</h2> <div align="center"><p>
        平凡世界，贵在坚持。
    </p> <img src="/about/contact.png"></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新于:</span> <span class="time">2020/4/27 下午2:40:17</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/tool/ci-cd.html">
        CI 与 CD 介绍
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----><div></div></div></div>
    <script src="/assets/js/app.baa22728.js" defer></script><script src="/assets/js/2.c7f5c1a5.js" defer></script><script src="/assets/js/263.60349f6d.js" defer></script><script src="/assets/js/3.fb5a4386.js" defer></script>
  </body>
</html>
