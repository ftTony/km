(window.webpackJsonp=window.webpackJsonp||[]).push([[205],{431:function(e,d,r){"use strict";r.r(d);var _=r(4),v=Object(_.a)({},(function(){var e=this,d=e.$createElement,r=e._self._c||d;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"虚拟-dom-解析——优化篇"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#虚拟-dom-解析——优化篇","aria-hidden":"true"}},[e._v("#")]),e._v(" 虚拟 DOM 解析——优化篇")]),e._v(" "),r("h2",{attrs:{id:"前言"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#前言","aria-hidden":"true"}},[e._v("#")]),e._v(" 前言")]),e._v(" "),r("p",[e._v("本人平时学习及收集内容，欢迎参入一起讨论。")]),e._v(" "),r("h2",{attrs:{id:"内容"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#内容","aria-hidden":"true"}},[e._v("#")]),e._v(" 内容")]),e._v(" "),r("p",[e._v("我们不要按顺序去循环"),r("code",[e._v("newChildren")]),e._v("和"),r("code",[e._v("oldChildren")]),e._v("这两个数组，可以先比较这两个数组里特殊位置的子节点，比如：")]),e._v(" "),r("ul",[r("li",[e._v("先把"),r("code",[e._v("newChildren")]),e._v("数组里的所有未处理子节点的第一个子节点和"),r("code",[e._v("oldChildren")]),e._v("数组里所有未处理子节点的第一个子节点做比对，如果相同，那就直接进入更新节点的操作；")]),e._v(" "),r("li",[e._v("如果不同，再把"),r("code",[e._v("newChildren")]),e._v("数组里所有未处理子节点的最后一个子节点和"),r("code",[e._v("oldChildren")]),e._v("数组里所有未处理子节点的最后一个子节点做比对，如果相同，那就直接进入更新节点的操作；")]),e._v(" "),r("li",[e._v("如果不同，再把"),r("code",[e._v("newChildren")]),e._v("数组里所有未处理子节点的最后一个子节点和"),r("code",[e._v("oldChildren")]),e._v("数组里所有未处理子节点的第一个子节点做比对，如果相同，那就直接进入更新节点的操作，更新完后再将"),r("code",[e._v("oldChildren")]),e._v("数组里的该节点移动到与newChildren数组里节点相同的位置；")]),e._v(" "),r("li",[e._v("如果不同，再把"),r("code",[e._v("newChildren")]),e._v("数组里所有未处理子节点的第一个子节点和"),r("code",[e._v("oldChildren")]),e._v("数组里所有未处理子节点的最后一个子节点做比对，如果相同，那就直接进入更新节点的操作，更新完后再将"),r("code",[e._v("oldChildren")]),e._v("数组里的该节点移动到与"),r("code",[e._v("newChildren")]),e._v("数组里节点相同的位置；")])]),e._v(" "),r("p",[e._v("最后四种情况都试完如果还不同，那就按照之前循环的方式来查找节点。")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("newChildren")]),e._v("数组里的所有未处理子节点的第一个子节点称为：新前；")]),e._v(" "),r("li",[r("code",[e._v("newChildren")]),e._v("数组里的所有未处理子节点的最后一个子节点称为：新后；")]),e._v(" "),r("li",[r("code",[e._v("oldChildren")]),e._v("数组里的所有未处理子节点的第一个子节点称为：旧前；")]),e._v(" "),r("li",[r("code",[e._v("oldChildren")]),e._v("数组里的所有未处理子节点的最后一个子节点称为：旧后；")])]),e._v(" "),r("h3",{attrs:{id:"参考资料"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参考资料","aria-hidden":"true"}},[e._v("#")]),e._v(" 参考资料")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://www.bookset.io/read/Learn-Vue-Source-Code/03c8bbd76b668bed.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("优化更新子节点"),r("OutboundLink")],1)])])])}),[],!1,null,null,null);d.default=v.exports}}]);