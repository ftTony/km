(window.webpackJsonp=window.webpackJsonp||[]).push([[137],{369:function(a,s,n){"use strict";n.r(s);var r=n(4),e=Object(r.a)({},(function(){var a=this,s=a.$createElement,n=a._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[n("h1",{attrs:{id:"new-理解"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#new-理解","aria-hidden":"true"}},[a._v("#")]),a._v(" new 理解")]),a._v(" "),n("h2",{attrs:{id:"前言"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#前言","aria-hidden":"true"}},[a._v("#")]),a._v(" 前言")]),a._v(" "),n("p",[a._v("本人平时学习及收集内容，欢迎参入一起讨论。")]),a._v(" "),n("h2",{attrs:{id:"内容"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#内容","aria-hidden":"true"}},[a._v("#")]),a._v(" 内容")]),a._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"l#%E4%B8%80%E3%80%81new%E5%87%A0%E4%B8%AA%E7%89%B9%E7%82%B9"}},[a._v("new 几个特点")])]),a._v(" "),n("li",[n("a",{attrs:{href:"#%E4%BA%8C%E3%80%81%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"}},[a._v("代码实现")])])]),a._v(" "),n("blockquote",[n("p",[a._v("new 运算符创建一个用户定义的对象类型的实例或具有构造函数的内置对象的实例。 ——（来自于 MDN）")])]),a._v(" "),n("h3",{attrs:{id:"一、new-几个特点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一、new-几个特点","aria-hidden":"true"}},[a._v("#")]),a._v(" 一、new 几个特点")]),a._v(" "),n("ul",[n("li",[a._v("创建（或者说构造）一个全新的对象")]),a._v(" "),n("li",[a._v("这个新对象会被执行"),n("code",[a._v("[[原型]]")]),a._v("连接。")]),a._v(" "),n("li",[a._v("这个新对象会绑定到函数调用的 "),n("code",[a._v("this")]),a._v("。")]),a._v(" "),n("li",[a._v("如果函数没有返回其他对象，那么 "),n("code",[a._v("this")]),a._v(" 指向这个新对象，否则 "),n("code",[a._v("this")]),a._v(" 指向构造函数中返回的对象。")])]),a._v(" "),n("h3",{attrs:{id:"二、代码实现"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二、代码实现","aria-hidden":"true"}},[a._v("#")]),a._v(" 二、代码实现")]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("    function objectFactory(){\n        var obj = new Object(),\n        Constructor = [].shift.call(arguments);\n        obj.__proto__ = Constructor.prototype;\n        var ret = Constructor.apply(obj,arguments);\n        return typeof ret==='object' ? ret : obj;\n    }\n\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br")])]),n("h3",{attrs:{id:"三、注意事项"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三、注意事项","aria-hidden":"true"}},[a._v("#")]),a._v(" 三、注意事项")]),a._v(" "),n("h4",{attrs:{id:"_3-1-返回一个对象"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-返回一个对象","aria-hidden":"true"}},[a._v("#")]),a._v(" 3.1 返回一个对象")]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v('function Car(color, name) {\n    this.color = color;\n    return {\n        name: name\n    }\n}\n\nvar car = new Car("black", "BMW");\ncar.color;\n// undefined\n\ncar.name;\n// "BMW"\n')])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br")])]),n("p",[a._v("实例"),n("code",[a._v("car")]),a._v("中只能访问到"),n("strong",[a._v("返回对象中的属性")]),a._v("。")]),a._v(" "),n("h4",{attrs:{id:"_3-2-没有return，即返回undefined"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-没有return，即返回undefined","aria-hidden":"true"}},[a._v("#")]),a._v(" 3.2 没有"),n("code",[a._v("return")]),a._v("，即返回"),n("code",[a._v("undefined")])]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v('function Car(color, name) {\n    this.color = color;\n}\n\nvar car = new Car("black", "BMW");\ncar.color;\n// black\n\ncar.name;\n// undefined\n')])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br")])]),n("p",[a._v("实例 car 中只能访问到"),n("strong",[a._v("构造函数中的属性")]),a._v("，和情况1完全相反。")]),a._v(" "),n("h4",{attrs:{id:"_3-3-返回一个对象"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-返回一个对象","aria-hidden":"true"}},[a._v("#")]),a._v(" 3.3 返回一个对象")]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v('function Car(color, name) {\n    this.color = color;\n    return "new car";\n}\n\nvar car = new Car("black", "BMW");\ncar.color;\n// black\n\ncar.name;\n// undefined\n')])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br")])]),n("p",[a._v("实例 car 中只能访问到"),n("strong",[a._v("构造函数中的属性")]),a._v("，和情况1完全相反，结果相当于没有返回值。")]),a._v(" "),n("h3",{attrs:{id:"参考资料"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考资料","aria-hidden":"true"}},[a._v("#")]),a._v(" 参考资料")]),a._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://github.com/mqyqingfeng/Blog/issues/13",target:"_blank",rel:"noopener noreferrer"}},[a._v("JavaScript 深入之 new 的模拟实现"),n("OutboundLink")],1)]),a._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/yygmind/blog/issues/24",target:"_blank",rel:"noopener noreferrer"}},[a._v("深度解析 new 原理及模拟实现"),n("OutboundLink")],1)])]),a._v(" "),n("h2",{attrs:{id:"联系作者"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#联系作者","aria-hidden":"true"}},[a._v("#")]),a._v(" 联系作者")]),a._v(" "),n("div",{attrs:{align:"center"}},[n("p",[a._v("\n        平凡世界，贵在坚持。\n    ")]),a._v(" "),n("img",{attrs:{src:a.$withBase("/about/contact.png")}})])])}),[],!1,null,null,null);s.default=e.exports}}]);