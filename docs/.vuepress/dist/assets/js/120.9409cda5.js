(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{348:function(t,r,a){"use strict";a.r(r);var e=a(4),s=Object(e.a)({},(function(){var t=this,r=t.$createElement,a=t._self._c||r;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"网络面试题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网络面试题","aria-hidden":"true"}},[t._v("#")]),t._v(" 网络面试题")]),t._v(" "),a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言","aria-hidden":"true"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),a("p",[t._v("本人平时学习及收集内容，欢迎参入一起讨论。")]),t._v(" "),a("h2",{attrs:{id:"内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#内容","aria-hidden":"true"}},[t._v("#")]),t._v(" 内容")]),t._v(" "),a("ul",[a("li",[t._v("为什么需要三次握手，两次不行吗？")]),t._v(" "),a("li",[t._v("挥手为什么需要四次？")])]),t._v(" "),a("h3",{attrs:{id:"一、为什么需要三次握手，两次不行吗？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、为什么需要三次握手，两次不行吗？","aria-hidden":"true"}},[t._v("#")]),t._v(" 一、为什么需要三次握手，两次不行吗？")]),t._v(" "),a("p",[t._v("弄清这个问题，我们需要先弄明白三次握手的目的是什么，能不能只用两次握手来达到同样的目的。")]),t._v(" "),a("ul",[a("li",[t._v("第一次握手：客户端发送网络包，服务端收到了。这样服务端就能得出结论：客户端的发送能力、服务端的接收能力是正常的。")]),t._v(" "),a("li",[t._v("第二次握手：服务端发包，客户端收到了。这样客户端就能得出结论：服务端的接收、发送能力，客户端的接收、发送能力是正常的。不过此时服务器并不能确认客户端的接收能力是否正常。")]),t._v(" "),a("li",[t._v("第三次握手：客户端发包，服务端收到了。这样服务端就能得出结论：客户端的接收、发送能力正常，服务器自己的发送、接收能力也正常。")])]),t._v(" "),a("p",[t._v("如果是用两次握手，则会出现下面这种情况：")]),t._v(" "),a("blockquote",[a("p",[t._v("如客户端发出连接请求，但因连接请求报文丢失而未收到确认，于是客户端再重传一次连接请求。后来收到了确认，建立了连接。数据传输完毕后，就释放了连接，客户端共发出了两个连接请求报文段，其中第一个丢失，第二个到达了服务端，但是第一个丢失的报文段只是在"),a("strong",[t._v("某些网络结点长时间滞留了，延误到连接释放以后的某个时间才到达服务端")]),t._v("，此时服务端误认为客户端又发出一次新的连接请求，于是就向客户端发出确认报文段，同意建立连接，不采用三次握手，只要服务端发出确认，就建立新的连接了，此时客户端忽略服务端发来的确认，也不发送数据，则服务端一致等待客户端发送数据，浪费资源。")])]),t._v(" "),a("h3",{attrs:{id:"二、挥手为什么需要四次？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、挥手为什么需要四次？","aria-hidden":"true"}},[t._v("#")]),t._v(" 二、挥手为什么需要四次？")]),t._v(" "),a("p",[t._v("因为当服务端收到客户端的 SYN 连接请求报文后，可以直接发送 SYN+ACK 报文。其中"),a("strong",[t._v("ACK 报文是用来应答的，SYN 报文是用来同步的")]),t._v('。但是关闭连接时，当服务端收到 FIN 报文时，很可能并不会立即关闭 SOCKET，所以只能先回复一个 ACK 报文，告诉客户端，"你发的 FIN 报文我收到了"。只有等到我服务端所有的报文都发送完了，我才能发送 FIN 报文，因此不能一起发送。故需要四次挥手。')]),t._v(" "),a("h3",{attrs:{id:"三、一个-tcp-连接可以对应几个-http-请求？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、一个-tcp-连接可以对应几个-http-请求？","aria-hidden":"true"}},[t._v("#")]),t._v(" 三、一个 TCP 连接可以对应几个 HTTP 请求？")]),t._v(" "),a("h3",{attrs:{id:"四、为什么有的时候刷新页面不需要重新建立-ssl-连接？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、为什么有的时候刷新页面不需要重新建立-ssl-连接？","aria-hidden":"true"}},[t._v("#")]),t._v(" 四、为什么有的时候刷新页面不需要重新建立 SSL 连接？")]),t._v(" "),a("p",[t._v("TCP 连接有的时候会被浏览器和服务端维持一段时间。TCP 不需要重新建立，SSL 自然也会用之前的。")]),t._v(" "),a("h3",{attrs:{id:"五、浏览器对同一-host-建立-tcp-连接到数量有没有限制？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、浏览器对同一-host-建立-tcp-连接到数量有没有限制？","aria-hidden":"true"}},[t._v("#")]),t._v(" 五、浏览器对同一 Host 建立 TCP 连接到数量有没有限制？")]),t._v(" "),a("h3",{attrs:{id:"参考资料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考资料","aria-hidden":"true"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://mp.weixin.qq.com/s/KCEgz5FqQ44Vt3iUREJmaA",target:"_blank",rel:"noopener noreferrer"}},[t._v("面试官问:TCP 为啥要 3 次握手和 4 次挥手？握两次手不行吗？"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/61423830",target:"_blank",rel:"noopener noreferrer"}},[t._v("面试官问我：一个 TCP 连接可以发多少个 HTTP 请求？竟答不上来"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://mp.weixin.qq.com/s/WI9045Sd7gRsE-WZ5x8tcA",target:"_blank",rel:"noopener noreferrer"}},[t._v("面试官，不要再问我三次握手和四次挥手"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://mp.weixin.qq.com/s/oRGE2KA7bsfhoIboqrmGkA",target:"_blank",rel:"noopener noreferrer"}},[t._v("【面试题】HTTP 知识点整理(附答案)"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"联系作者"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#联系作者","aria-hidden":"true"}},[t._v("#")]),t._v(" 联系作者")]),t._v(" "),a("div",{attrs:{align:"center"}},[a("p",[t._v("\n        平凡世界，贵在坚持。\n    ")]),t._v(" "),a("img",{attrs:{src:t.$withBase("/about/contact.png")}})])])}),[],!1,null,null,null);r.default=s.exports}}]);