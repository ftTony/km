(window.webpackJsonp=window.webpackJsonp||[]).push([[197],{419:function(s,a,r){"use strict";r.r(a);var e=r(13),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,r=s._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[r("h1",{attrs:{id:"url-模块"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#url-模块"}},[s._v("#")]),s._v(" url 模块")]),s._v(" "),r("h2",{attrs:{id:"前言"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),r("p",[s._v("URL 模块提供了解析和处理 URL 字符串的便利工具，当你需要和 URL 打交道时会非常有用。")]),s._v(" "),r("h2",{attrs:{id:"内容"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#内容"}},[s._v("#")]),s._v(" 内容")]),s._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"#%E4%B8%80%E3%80%81%E6%A8%A1%E5%9D%97%E6%96%B9%E6%B3%95"}},[s._v("模块方法")])]),s._v(" "),r("li",[r("a",{attrs:{href:"#%E4%BA%8C%E3%80%81url-%E8%A7%A3%E6%9E%90urlparse"}},[s._v("url 解析：url.parse()")])]),s._v(" "),r("li",[r("a",{attrs:{href:"#%E4%B8%89%E3%80%81%E5%85%B3%E4%BA%8E-urlobject"}},[s._v("关于 urlObject")])]),s._v(" "),r("li",[r("a",{attrs:{href:"#%E5%9B%9B%E3%80%81url-%E6%8B%BC%E6%8E%A5urlformaturlobject"}},[s._v("url 拼接：url.format(urlObject)")])]),s._v(" "),r("li",[r("a",{attrs:{href:"#%E4%BA%94%E3%80%81urlresolvefrom-to"}},[s._v("url.resolve(from, to)")])])]),s._v(" "),r("h3",{attrs:{id:"一、模块方法"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#一、模块方法"}},[s._v("#")]),s._v(" 一、模块方法")]),s._v(" "),r("p",[s._v("url 模块三个方法分别是：")]),s._v(" "),r("ul",[r("li",[r("strong",[s._v(".parse(usrString)：")]),s._v(" 将 url 字符串，解析成 object，便于开发者进行操作。")]),s._v(" "),r("li",[r("strong",[s._v(".format(urlObj)：")]),s._v(".parse()方法的反向操作。")]),s._v(" "),r("li",[r("strong",[s._v(".resove(from,to)：")]),s._v(" 以 from 作为起始地址，解析出完整的目标地址")])]),s._v(" "),r("h3",{attrs:{id:"二、url-解析：url-parse"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#二、url-解析：url-parse"}},[s._v("#")]),s._v(" 二、url 解析：url.parse()")]),s._v(" "),r("blockquote",[r("p",[s._v("完整语法：url.parse(urlString[, parseQueryString[, slashesDenoteHost]])")])]),s._v(" "),r("ul",[r("li",[r("strong",[s._v("urlString：")]),s._v(" url 链接。")]),s._v(" "),r("li",[r("strong",[s._v("parseQueryString：")]),s._v("（默认为 false）如为 false，则 "),r("code",[s._v("urlObject.query")]),s._v("为未解析的字符串，比如"),r("code",[s._v("nick=%E7%A8%8B%E5%BA%8F%E7%8C%BF%E5%B0%8F%E5%8D%A1")]),s._v("，且对应的值不会 "),r("code",[s._v("decode")]),s._v("；如果 "),r("code",[s._v("parseQueryString")]),s._v(" 为 true，则 "),r("code",[s._v("urlObject.query")]),s._v(" 为 object，比如{ nick: '程序猿小卡' }，且值会被 decode；")]),s._v(" "),r("li",[r("strong",[s._v("slashesDenoteHos：")]),s._v("（默认为 false）如果为"),r("code",[s._v("true")]),s._v("，那么类似"),r("code",[s._v("//foo/bar")]),s._v(" 里的 foo 就会被认为是"),r("code",[s._v("hostname")]),s._v("；如果为 false，则 foo 被认为是 pathname 的一部分。")])]),s._v(" "),r("h4",{attrs:{id:"_2-1-参数值不进行解析"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-参数值不进行解析"}},[s._v("#")]),s._v(" 2.1 参数值不进行解析")]),s._v(" "),r("p",[s._v("代码如下：")]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("var url = require('url');\nvar str = 'http://Chyingp:HelloWorld@ke.qq.com:8080/index.html?nick=%E7%A8%8B%E5%BA%8F%E7%8C%BF%E5%B0%8F%E5%8D%A1#part=1';\n\nvar obj = url.parse(str);\nconsole.log(obj);\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br")])]),r("p",[s._v("输出如下：")]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("Url {\n  protocol: 'http:',\n  slashes: true,\n  auth: 'Chyingp:HelloWorld',\n  host: 'ke.qq.com:8080',\n  port: '8080',\n  hostname: 'ke.qq.com',\n  hash: '#part=1',\n  search: '?nick=%E7%A8%8B%E5%BA%8F%E7%8C%BF%E5%B0%8F%E5%8D%A1',\n  query: 'nick=%E7%A8%8B%E5%BA%8F%E7%8C%BF%E5%B0%8F%E5%8D%A1',\n  pathname: '/index.html',\n  path: '/index.html?nick=%E7%A8%8B%E5%BA%8F%E7%8C%BF%E5%B0%8F%E5%8D%A1',\n  href: 'http://Chyingp:HelloWorld@ke.qq.com:8080/index.html?nick=%E7%A8%8B%E5%BA%8F%E7%8C%BF%E5%B0%8F%E5%8D%A1#part=1' }\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br"),r("span",{staticClass:"line-number"},[s._v("7")]),r("br"),r("span",{staticClass:"line-number"},[s._v("8")]),r("br"),r("span",{staticClass:"line-number"},[s._v("9")]),r("br"),r("span",{staticClass:"line-number"},[s._v("10")]),r("br"),r("span",{staticClass:"line-number"},[s._v("11")]),r("br"),r("span",{staticClass:"line-number"},[s._v("12")]),r("br"),r("span",{staticClass:"line-number"},[s._v("13")]),r("br")])]),r("h4",{attrs:{id:"_2-2-对参数值进行-decode"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-对参数值进行-decode"}},[s._v("#")]),s._v(" 2.2 对参数值进行 decode")]),s._v(" "),r("p",[s._v("代码如下：")]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("var url = require('url');\nvar str = 'http://Chyingp:HelloWorld@ke.qq.com:8080/index.html?nick=%E7%A8%8B%E5%BA%8F%E7%8C%BF%E5%B0%8F%E5%8D%A1#part=1';\n\nvar obj = url.parse(str, true);\nconsole.log(obj);\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br")])]),r("p",[s._v("输出结果如下：")]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("Url {\n  protocol: 'http:',\n  slashes: true,\n  auth: 'Chyingp:HelloWorld',\n  host: 'ke.qq.com:8080',\n  port: '8080',\n  hostname: 'ke.qq.com',\n  hash: '#part=1',\n  search: '?nick=%E7%A8%8B%E5%BA%8F%E7%8C%BF%E5%B0%8F%E5%8D%A1',\n  query: { nick: '程序猿小卡' },\n  pathname: '/index.html',\n  path: '/index.html?nick=%E7%A8%8B%E5%BA%8F%E7%8C%BF%E5%B0%8F%E5%8D%A1',\n  href: 'http://Chyingp:HelloWorld@ke.qq.com:8080/index.html?nick=%E7%A8%8B%E5%BA%8F%E7%8C%BF%E5%B0%8F%E5%8D%A1#part=1' }\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br"),r("span",{staticClass:"line-number"},[s._v("7")]),r("br"),r("span",{staticClass:"line-number"},[s._v("8")]),r("br"),r("span",{staticClass:"line-number"},[s._v("9")]),r("br"),r("span",{staticClass:"line-number"},[s._v("10")]),r("br"),r("span",{staticClass:"line-number"},[s._v("11")]),r("br"),r("span",{staticClass:"line-number"},[s._v("12")]),r("br"),r("span",{staticClass:"line-number"},[s._v("13")]),r("br")])]),r("h4",{attrs:{id:"_2-3-针对路径-foo-bar-的处理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-针对路径-foo-bar-的处理"}},[s._v("#")]),s._v(" 2.3 针对路径 //foo/bar 的处理")]),s._v(" "),r("p",[s._v("代码如下：")]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("var url = require('url');\nvar str = '//foo/bar';\n\nvar obj = url.parse(str, true, false);\nconsole.log(obj);\n\nobj = url.parse(str, true, true);\nconsole.log(obj);\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br"),r("span",{staticClass:"line-number"},[s._v("7")]),r("br"),r("span",{staticClass:"line-number"},[s._v("8")]),r("br")])]),r("p",[s._v("输出如下：")]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("Url {\n  protocol: null,\n  slashes: null,\n  auth: null,\n  host: null,\n  port: null,\n  hostname: null,\n  hash: null,\n  search: '',\n  query: {},\n  pathname: '//foo/bar',\n  path: '//foo/bar',\n  href: '//foo/bar' }\nUrl {\n  protocol: null,\n  slashes: true,\n  auth: null,\n  host: 'foo',\n  port: null,\n  hostname: 'foo',\n  hash: null,\n  search: '',\n  query: {},\n  pathname: '/bar',\n  path: '/bar',\n  href: '//foo/bar' }\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br"),r("span",{staticClass:"line-number"},[s._v("7")]),r("br"),r("span",{staticClass:"line-number"},[s._v("8")]),r("br"),r("span",{staticClass:"line-number"},[s._v("9")]),r("br"),r("span",{staticClass:"line-number"},[s._v("10")]),r("br"),r("span",{staticClass:"line-number"},[s._v("11")]),r("br"),r("span",{staticClass:"line-number"},[s._v("12")]),r("br"),r("span",{staticClass:"line-number"},[s._v("13")]),r("br"),r("span",{staticClass:"line-number"},[s._v("14")]),r("br"),r("span",{staticClass:"line-number"},[s._v("15")]),r("br"),r("span",{staticClass:"line-number"},[s._v("16")]),r("br"),r("span",{staticClass:"line-number"},[s._v("17")]),r("br"),r("span",{staticClass:"line-number"},[s._v("18")]),r("br"),r("span",{staticClass:"line-number"},[s._v("19")]),r("br"),r("span",{staticClass:"line-number"},[s._v("20")]),r("br"),r("span",{staticClass:"line-number"},[s._v("21")]),r("br"),r("span",{staticClass:"line-number"},[s._v("22")]),r("br"),r("span",{staticClass:"line-number"},[s._v("23")]),r("br"),r("span",{staticClass:"line-number"},[s._v("24")]),r("br"),r("span",{staticClass:"line-number"},[s._v("25")]),r("br"),r("span",{staticClass:"line-number"},[s._v("26")]),r("br")])]),r("h3",{attrs:{id:"三、关于-urlobject"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#三、关于-urlobject"}},[s._v("#")]),s._v(" 三、关于 urlObject")]),s._v(" "),r("ul",[r("li",[s._v("protocol：协议，需要注意的是包含了:，并且是小写的。")]),s._v(" "),r("li",[s._v("slashes：如果:后面跟了两个//，那么为 true。")]),s._v(" "),r("li",[s._v("auth：认证信息，如果有密码，为 usrname:passwd，如果没有，则为 usrname。注意，这里区分大小写。")]),s._v(" "),r("li",[s._v("host：主机名。注意包含了端口，比如 ke.qq.com:8080，并且是小写的。")]),s._v(" "),r("li",[s._v("hostname：主机名，不包含端口，并且是小写的。")]),s._v(" "),r("li",[s._v("hash：哈希部分，注意包含了#。")]),s._v(" "),r("li",[s._v("search：查询字符串，注意，包含了?，此外，值是没有经过 decode 的。")]),s._v(" "),r("li",[s._v("query：字符串 或者 对象。如果是字符串，则是 search 去掉?，其余一样；如果是对象，那么是 decode 过的。")]),s._v(" "),r("li",[s._v("path：路径部分，包含 search 部分。")]),s._v(" "),r("li",[s._v("pathname：路径部分，不包含 search 部分。")]),s._v(" "),r("li",[s._v("href：原始的地址。不过需要注意的是，protocol、host 会被转成小写字母。")])]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("{\n  protocol: 'http:',\n  slashes: true,\n  auth: 'Chyingp:HelloWorld',\n  host: 'ke.qq.com:8080',\n  port: '8080',\n  hostname: 'ke.qq.com',\n  hash: '#part=1',\n  search: '?nick=%E7%A8%8B%E5%BA%8F%E7%8C%BF%E5%B0%8F%E5%8D%A1',\n  query: { nick: '程序猿小卡' },\n  pathname: '/index.html',\n  path: '/index.html?nick=%E7%A8%8B%E5%BA%8F%E7%8C%BF%E5%B0%8F%E5%8D%A1',\n  href: 'http://Chyingp:HelloWorld@ke.qq.com:8080/index.html?nick=%E7%A8%8B%E5%BA%8F%E7%8C%BF%E5%B0%8F%E5%8D%A1#part=1' }\n  }\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br"),r("span",{staticClass:"line-number"},[s._v("7")]),r("br"),r("span",{staticClass:"line-number"},[s._v("8")]),r("br"),r("span",{staticClass:"line-number"},[s._v("9")]),r("br"),r("span",{staticClass:"line-number"},[s._v("10")]),r("br"),r("span",{staticClass:"line-number"},[s._v("11")]),r("br"),r("span",{staticClass:"line-number"},[s._v("12")]),r("br"),r("span",{staticClass:"line-number"},[s._v("13")]),r("br"),r("span",{staticClass:"line-number"},[s._v("14")]),r("br")])]),r("h3",{attrs:{id:"四、url-拼接：url-format-urlobject"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#四、url-拼接：url-format-urlobject"}},[s._v("#")]),s._v(" 四、url 拼接：url.format(urlObject)")]),s._v(" "),r("blockquote",[r("p",[s._v("完整语法：url.format(urlObject)")])]),s._v(" "),r("p",[r("code",[s._v("url.parse(str)")]),s._v("的反向操作，没什么好说的。"),r("code",[s._v("urlObject")]),s._v(" 包含了很多字段，比如 protocol、slashes、protocol 等，且不一定需要全部传，所以有一套解析逻辑。")]),s._v(" "),r("h3",{attrs:{id:"五、url-resolve-from-to"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#五、url-resolve-from-to"}},[s._v("#")]),s._v(" 五、url.resolve(from, to)")]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("url.resolve('/one/two/three', 'four')         // '/one/two/four'\nurl.resolve('http://example.com/', '/one')    // 'http://example.com/one'\nurl.resolve('http://example.com/one', '/two') // 'http://example.com/two'\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br")])]),r("h3",{attrs:{id:"参考资料"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[s._v("#")]),s._v(" 参考资料")]),s._v(" "),r("ul",[r("li",[s._v("《Nodejs 即学即用》")]),s._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/chyingp/nodejs-learning-guide/blob/master/%E6%A8%A1%E5%9D%97/url.md",target:"_blank",rel:"noopener noreferrer"}},[s._v("url"),r("OutboundLink")],1)])]),s._v(" "),r("h2",{attrs:{id:"联系作者"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#联系作者"}},[s._v("#")]),s._v(" 联系作者")]),s._v(" "),r("div",{attrs:{align:"center"}},[r("p",[s._v("\n        平凡世界，贵在坚持。\n    ")]),s._v(" "),r("img",{attrs:{src:s.$withBase("/about/contact.png")}})])])}),[],!1,null,null,null);a.default=n.exports}}]);