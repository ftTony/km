(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{462:function(e,s,a){"use strict";a.r(s);var n=a(4),t=Object(n.a)({},(function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"webpack-面试题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack-面试题","aria-hidden":"true"}},[e._v("#")]),e._v(" webpack 面试题")]),e._v(" "),a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言","aria-hidden":"true"}},[e._v("#")]),e._v(" 前言")]),e._v(" "),a("p",[e._v("本人平时学习及收集内容，欢迎参入一起讨论。")]),e._v(" "),a("h2",{attrs:{id:"内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#内容","aria-hidden":"true"}},[e._v("#")]),e._v(" 内容")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E4%B8%80%E3%80%81module%EF%BC%8Cchunk%E5%92%8Cbundle%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"}},[a("code",[e._v("module")]),e._v("，"),a("code",[e._v("chunk")]),e._v("和"),a("code",[e._v("bundle")]),e._v("的区别是什么？")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#%E4%BA%8C%E3%80%81filename%E5%92%8Cchunkfilename%E7%9A%84%E5%8C%BA%E5%88%AB"}},[a("code",[e._v("filename")]),e._v("和"),a("code",[e._v("chunkFilename")]),e._v("的区别")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#%E4%B8%89%E3%80%81webpackprefetch%E3%80%81webpackpreload-%E5%92%8C-webpackchunkname-%E5%88%B0%E5%BA%95%E6%98%AF%E5%B9%B2%E4%BB%80%E4%B9%88%E7%9A%84%EF%BC%9F"}},[a("code",[e._v("webpackPrefetch")]),e._v("、"),a("code",[e._v("webpackPreload")]),e._v(" 和 "),a("code",[e._v("webpackChunkName")]),e._v(" 到底是干什么的？")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#%E5%9B%9B%E3%80%81hash%E3%80%81chunkhash%E3%80%81contenthash%E6%9C%89%E4%BB%80%E4%B9%88%E4%B8%8D%E5%90%8C%EF%BC%9F"}},[a("code",[e._v("hash")]),e._v("、"),a("code",[e._v("chunkhash")]),e._v("、"),a("code",[e._v("contenthash")]),e._v("有什么不同？")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#%E4%BA%94%E3%80%81sourse-map-%E4%B8%AD-eval%E3%80%81cheap%E3%80%81inline-%E5%92%8C-module-%E5%90%84%E6%98%AF%E4%BB%80%E4%B9%88%E6%84%8F%E6%80%9D%EF%BC%9F"}},[a("code",[e._v("sourse-map")]),e._v(" 中 "),a("code",[e._v("eval")]),e._v("、"),a("code",[e._v("cheap")]),e._v("、"),a("code",[e._v("inline")]),e._v(" 和 "),a("code",[e._v("module")]),e._v(" 各是什么意思？")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#%E5%85%AD%E3%80%81loader-%E5%92%8C-plugin-%E7%9A%84%E5%8C%BA%E5%88%AB"}},[a("code",[e._v("loader")]),e._v(" 和 "),a("code",[e._v("plugin")]),e._v(" 的区别")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#%E4%B8%83%E3%80%81webpack-%E4%B8%8E-grunt%E3%80%81gulp-%E7%9A%84%E4%B8%8D%E5%90%8C%EF%BC%9F"}},[a("code",[e._v("webpack")]),e._v(" 与 "),a("code",[e._v("grunt")]),e._v("、"),a("code",[e._v("gulp")]),e._v(" 的不同？")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#%E5%85%AB%E3%80%81webpack%E3%80%81rollup%E3%80%81parcel-%E4%BC%98%E5%8A%A3%EF%BC%9F"}},[a("code",[e._v("webpack")]),e._v("、"),a("code",[e._v("rollup")]),e._v("、"),a("code",[e._v("parcel")]),e._v("优劣？")])])]),e._v(" "),a("h3",{attrs:{id:"一、module，chunk和bundle的区别是什么？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、module，chunk和bundle的区别是什么？","aria-hidden":"true"}},[e._v("#")]),e._v(" 一、"),a("code",[e._v("module")]),e._v("，"),a("code",[e._v("chunk")]),e._v("和"),a("code",[e._v("bundle")]),e._v("的区别是什么？")]),e._v(" "),a("p",[e._v("我这里举个例子，给大家"),a("strong",[e._v("形象化")]),e._v("的解释一下。")]),e._v(" "),a("p",[e._v("首先我们在"),a("code",[e._v("src")]),e._v("目录下写我们的业务代码，引入"),a("code",[e._v("index.js")]),e._v("、"),a("code",[e._v("utils.js")]),e._v("、"),a("code",[e._v("common.js")]),e._v("和"),a("code",[e._v("index.css")]),e._v("这 4 个文件，目录结构如下：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("src/\n├── index.css\n├── index.html # 这个是 HTML 模板代码\n├── index.js\n├── common.js\n└── utils.js\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br")])]),a("p",[a("code",[e._v("index.css")]),e._v("写一点儿简单的样式：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("body {\n    background-color: red;\n}\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("p",[a("code",[e._v("utils.js")]),e._v("文件写个求平方的工具函数：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("export function square(x) {\n    return x * x;\n}\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("p",[a("code",[e._v("common.js")]),e._v("文件写个"),a("code",[e._v("log")]),e._v("工具函数：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("module.exports = {\n  log: (msg) => {\n    console.log('hello ', msg)\n  }\n}\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br")])]),a("p",[a("code",[e._v("index.js")]),e._v("文件做一些简单的修改，引入"),a("code",[e._v("css")]),e._v("文件和"),a("code",[e._v("common.js")]),e._v("：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("import './index.css';\nconst { log } = require('./common');\n\nlog('webpack');\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br")])]),a("p",[a("code",[e._v("webpack")]),e._v("的配置如下：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("{\n    entry: {\n        index: \"../src/index.js\",\n        utils: '../src/utils.js',\n    },\n    output: {\n        filename: \"[name].bundle.js\", // 输出 index.js 和 utils.js\n    },\n    module: {\n        rules: [\n            {\n                test: /\\.css$/,\n                use: [\n                    MiniCssExtractPlugin.loader, // 创建一个 link 标签\n                    'css-loader', // css-loader 负责解析 CSS 代码, 处理 CSS 中的依赖\n                ],\n            },\n        ]\n    }\n    plugins: [\n        // 用 MiniCssExtractPlugin 抽离出 css 文件，以 link 标签的形式引入样式文件\n        new MiniCssExtractPlugin({\n            filename: 'index.bundle.css' // 输出的 css 文件名为 index.css\n        }),\n    ]\n}\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br"),a("span",{staticClass:"line-number"},[e._v("14")]),a("br"),a("span",{staticClass:"line-number"},[e._v("15")]),a("br"),a("span",{staticClass:"line-number"},[e._v("16")]),a("br"),a("span",{staticClass:"line-number"},[e._v("17")]),a("br"),a("span",{staticClass:"line-number"},[e._v("18")]),a("br"),a("span",{staticClass:"line-number"},[e._v("19")]),a("br"),a("span",{staticClass:"line-number"},[e._v("20")]),a("br"),a("span",{staticClass:"line-number"},[e._v("21")]),a("br"),a("span",{staticClass:"line-number"},[e._v("22")]),a("br"),a("span",{staticClass:"line-number"},[e._v("23")]),a("br"),a("span",{staticClass:"line-number"},[e._v("24")]),a("br"),a("span",{staticClass:"line-number"},[e._v("25")]),a("br"),a("span",{staticClass:"line-number"},[e._v("26")]),a("br")])]),a("p",[e._v("我们运行一下 webpack，看一下打包的结果：")]),e._v(" "),a("p",[a("img",{attrs:{src:"webpack04.png",alt:"images"}})]),e._v(" "),a("p",[e._v("我们可以看出，"),a("code",[e._v("index.css")]),e._v("和"),a("code",[e._v("common.js")]),e._v("在"),a("code",[e._v("index.js")]),e._v("中被引入，打包生成的"),a("code",[e._v("index.bundle.css")]),e._v("和"),a("code",[e._v("index.bundle.js")]),e._v(" 都属于 "),a("code",[e._v("chunk 0")]),e._v("，"),a("code",[e._v("utils.js")]),e._v(" 因为是独立打包的，它生成的 "),a("code",[e._v("utils.bundle.js")]),e._v(" 属于 "),a("code",[e._v("chunk 1")]),e._v("。")]),e._v(" "),a("p",[e._v("感觉还有些绕？我做了一张图，你肯定一看就懂：")]),e._v(" "),a("p",[a("img",{attrs:{src:"webpack05.png",alt:"images"}})]),e._v(" "),a("p",[e._v("看这个图就很明白了：")]),e._v(" "),a("p",[e._v("一般来说一个"),a("code",[e._v("chunk")]),e._v("对应一个"),a("code",[e._v("bundle")]),e._v("，比如上图中的"),a("code",[e._v("utils.js")]),e._v(" -> "),a("code",[e._v("chunks 1")]),e._v(" -> "),a("code",[e._v("utils.bundle.js")]),e._v("；但也有例外，比如说上图中，我就用 "),a("code",[e._v("MiniCssExtractPlugin")]),e._v(" 从 "),a("code",[e._v("chunks 0")]),e._v(" 中抽离出了 "),a("code",[e._v("index.bundle.css")]),e._v("文件。")]),e._v(" "),a("h4",{attrs:{id:"一句话总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一句话总结","aria-hidden":"true"}},[e._v("#")]),e._v(" 一句话总结")]),e._v(" "),a("p",[a("code",[e._v("module")]),e._v("，"),a("code",[e._v("chunk")]),e._v(" 和 "),a("code",[e._v("bundle")]),e._v(" 其实就是同一份逻辑代码在不同转换场景下的取了三个名字：我们直接写出来的是 module，webpack 处理时是 chunk，最后生成浏览器可以直接运行的 bundle。")]),e._v(" "),a("h3",{attrs:{id:"二、filename和chunkfilename的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、filename和chunkfilename的区别","aria-hidden":"true"}},[e._v("#")]),e._v(" 二、"),a("code",[e._v("filename")]),e._v("和"),a("code",[e._v("chunkFilename")]),e._v("的区别")]),e._v(" "),a("ul",[a("li",[e._v("filename")]),e._v(" "),a("li",[e._v("chunkFilename")])]),e._v(" "),a("h4",{attrs:{id:"_2-1-filename"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-filename","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.1 filename")]),e._v(" "),a("p",[a("code",[e._v("filename")]),e._v("是一个很常见的配置，就是对应于"),a("code",[e._v("entry")]),e._v("里面的输入文件，经过 webpack 打包后输出文件的文件名。比如说经过下面的配置，生成出来的文件名为"),a("code",[e._v("index.min.js")]),e._v("。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('{\n    entry: {\n        index: "../src/index.js"\n    },\n    output: {\n        filename: "[name].min.js", // index.min.js\n    }\n}\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br")])]),a("p",[a("img",{attrs:{src:"webpack06.png",alt:"images"}})]),e._v(" "),a("h4",{attrs:{id:"_2-2-chunkfilename"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-chunkfilename","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.2 chunkFilename")]),e._v(" "),a("p",[a("code",[e._v("chunkFilename")]),e._v("指未被列在"),a("code",[e._v("entry")]),e._v("中，却又需要被打包出来的"),a("code",[e._v("chunk")]),e._v("文件的名称。一般来说，这个"),a("code",[e._v("chunk")]),e._v("文件指的就是要"),a("strong",[e._v("懒加载")]),e._v("的代码。")]),e._v(" "),a("p",[e._v("比如说我们业务代码中写了一份懒加载"),a("code",[e._v("lodash")]),e._v("的代码：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("// 文件：index.js\n\n// 创建一个 button\nlet btn = document.createElement(\"button\");\nbtn.innerHTML = \"click me\";\ndocument.body.appendChild(btn);\n\n// 异步加载代码\nasync function getAsyncComponent() {\n    var element = document.createElement('div');\n    const { default: _ } = await import('lodash');\n\n    element.innerHTML = _.join(['Hello!', 'dynamic', 'imports', 'async'], ' ');\n\n    return element;\n}\n\n// 点击 button 时，懒加载 lodash，在网页上显示 Hello! dynamic imports async\nbtn.addEventListener('click', () => {\n    getAsyncComponent().then(component => {\n        document.body.appendChild(component);\n    })\n})\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br"),a("span",{staticClass:"line-number"},[e._v("14")]),a("br"),a("span",{staticClass:"line-number"},[e._v("15")]),a("br"),a("span",{staticClass:"line-number"},[e._v("16")]),a("br"),a("span",{staticClass:"line-number"},[e._v("17")]),a("br"),a("span",{staticClass:"line-number"},[e._v("18")]),a("br"),a("span",{staticClass:"line-number"},[e._v("19")]),a("br"),a("span",{staticClass:"line-number"},[e._v("20")]),a("br"),a("span",{staticClass:"line-number"},[e._v("21")]),a("br"),a("span",{staticClass:"line-number"},[e._v("22")]),a("br"),a("span",{staticClass:"line-number"},[e._v("23")]),a("br")])]),a("p",[e._v("我们的"),a("code",[e._v("webpack")]),e._v("不做任何配置，还是原来的配置代码：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('{\n    entry: {\n        index: "../src/index.js"\n    },\n    output: {\n        filename: "[name].min.js", // index.min.js\n    }\n}\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br")])]),a("p",[e._v("这时候的打包结果如下：")]),e._v(" "),a("p",[a("img",{attrs:{src:"webpack07.png",alt:"images"}})]),e._v(" "),a("p",[e._v("这个"),a("code",[e._v("1.min.js")]),e._v("就是异步加载的"),a("code",[e._v("chunk")]),e._v("文件。"),a("a",{attrs:{href:"https://webpack.docschina.org/configuration/output/#output-chunkfilename",target:"_blank",rel:"noopener noreferrer"}},[e._v("文档"),a("OutboundLink")],1),e._v("里这么解释：")]),e._v(" "),a("blockquote",[a("p",[a("code",[e._v("output.chunkFilename")]),e._v(" 默认使用"),a("code",[e._v("[id].js")]),e._v("或从"),a("code",[e._v("output.filename")]),e._v("中推断出的值（"),a("code",[e._v("[name]")]),e._v("会被预先替换为 "),a("code",[e._v("[id]")]),e._v(" 或 "),a("code",[e._v("[id]")]),e._v(".）")])]),e._v(" "),a("p",[e._v("文档写的太抽象，我们不如结合上面的例子来看：")]),e._v(" "),a("p",[a("code",[e._v("output.filename")]),e._v("的输出文件名是"),a("code",[e._v("[name].min.js")]),e._v("，"),a("code",[e._v("[name]")]),e._v(" 根据"),a("code",[e._v("entry")]),e._v("的配置推断为"),a("code",[e._v("index")]),e._v("，所以输出为 "),a("code",[e._v("index.min.js")]),e._v("；")]),e._v(" "),a("p",[e._v("由于"),a("code",[e._v("output.chunkFilename")]),e._v("没有显示指定，就会把"),a("code",[e._v("[name]")]),e._v("替换为"),a("code",[e._v("chunk")]),e._v("文件的"),a("code",[e._v("id")]),e._v("号，这里文件的"),a("code",[e._v("id")]),e._v("号是"),a("code",[e._v("1")]),e._v("，所以文件名就是"),a("code",[e._v("1.min.js")]),e._v("。")]),e._v(" "),a("p",[e._v("如果我们显式配置"),a("code",[e._v("chunkFilename")]),e._v("，就会按配置的名字生成文件：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('{\n    entry: {\n        index: "../src/index.js"\n    },\n    output: {\n        filename: "[name].min.js",  // index.min.js\n        chunkFilename: \'bundle.js\', // bundle.js\n    }\n}\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br")])]),a("p",[a("img",{attrs:{src:"webpack08.png",alt:"images"}})]),e._v(" "),a("h4",{attrs:{id:"_2-3-总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-总结","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.3 总结")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("filename")]),e._v("指列在"),a("code",[e._v("entry")]),e._v("中，打包后输出的文件的名称。")]),e._v(" "),a("li",[a("code",[e._v("chunkFilename")]),e._v("指未列在"),a("code",[e._v("entry")]),e._v("中，却又需要被打包出来的文件的名称。")])]),e._v(" "),a("h3",{attrs:{id:"三、webpackprefetch、webpackpreload-和-webpackchunkname-到底是干什么的？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、webpackprefetch、webpackpreload-和-webpackchunkname-到底是干什么的？","aria-hidden":"true"}},[e._v("#")]),e._v(" 三、"),a("code",[e._v("webpackPrefetch")]),e._v("、"),a("code",[e._v("webpackPreload")]),e._v(" 和 "),a("code",[e._v("webpackChunkName")]),e._v(" 到底是干什么的？")]),e._v(" "),a("p",[e._v("这几个名词其实都是 webpack "),a("a",{attrs:{href:"https://webpack.docschina.org/api/module-methods/#magic-comments",target:"_blank",rel:"noopener noreferrer"}},[e._v("魔法注释（magic comments）"),a("OutboundLink")],1),e._v("里的，文档中说了 6 个配置，配置都可以组合起来用。我们说说最常用的三个配置。")]),e._v(" "),a("p",[a("strong",[e._v("webpackChunkName")])]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('{\n    entry: {\n        index: "../src/index.js"\n    },\n    output: {\n        filename: "[name].min.js",  // index.min.js\n        chunkFilename: \'[name].bundle.js\', // 1.bundle.js，chunk id 为 1，辨识度不高\n    }\n}\n\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br")])]),a("p",[a("img",{attrs:{src:"webpack09.png",alt:"images"}})]),e._v(" "),a("p",[e._v("这时候"),a("code",[e._v("webpackChunkName")]),e._v("就可以派上用场了。我们可以在"),a("code",[e._v("import")]),e._v("文件时，在"),a("code",[e._v("import")]),e._v("里以注释的形式为"),a("code",[e._v("chunk")]),e._v("文件取别名：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("async function getAsyncComponent() {\n    var element = document.createElement('div');\n\n    // 在 import 的括号里 加注释 /* webpackChunkName: \"lodash\" */ ，为引入的文件取别名\n    const { default: _ } = await import(/* webpackChunkName: \"lodash\" */ 'lodash');\n\n    element.innerHTML = _.join(['Hello!', 'dynamic', 'imports', 'async'], ' ');\n\n    return element;\n}\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br")])]),a("p",[e._v("这时候打包生成的文件是这样的：")]),e._v(" "),a("p",[a("img",{attrs:{src:"webpack10.png",alt:"images"}})]),e._v(" "),a("p",[e._v("现在问题来了，"),a("code",[e._v("lodash")]),e._v("是我们取的名字，按道理来说应该生成"),a("code",[e._v("lodash.bundle.js")]),e._v("啊，前面的 "),a("code",[e._v("vendors~")]),e._v(" 是什么玩意？")]),e._v(" "),a("p",[e._v("其实"),a("code",[e._v("webpack")]),e._v("懒加载是用内置的一个插件"),a("a",{attrs:{href:"https://webpack.docschina.org/plugins/split-chunks-plugin",target:"_blank",rel:"noopener noreferrer"}},[e._v("SplitChunksPlugin"),a("OutboundLink")],1),e._v("实现的，这个插件里面有些默认配置项，比如说"),a("code",[e._v("automaticNameDelimiter")]),e._v("，默认的分割符就是"),a("code",[e._v("~")]),e._v("，所以最后的文件名才会出现这个符号，这块儿内容我就不引申了，感兴趣的同学可以自己研究一下。")]),e._v(" "),a("p",[a("strong",[e._v("webpackPrefetch 和 webpackPreload")])]),e._v(" "),a("p",[e._v("这两个配置一个叫预拉取（Prefetch），一个叫预加载（Preload），两者有些细微的不同，我们先说说 "),a("code",[e._v("webpackPrefetch")]),e._v("。")]),e._v(" "),a("p",[e._v("在上面的懒加载代码里，我们是点击按钮时，才会触发异步加载"),a("code",[e._v("lodash")]),e._v("的动作，这时候会动态的生成一个"),a("code",[e._v("script")]),e._v("标签，加载到"),a("code",[e._v("head")]),e._v("头里：")]),e._v(" "),a("p",[a("img",{attrs:{src:"webpack11.png",alt:"images"}})]),e._v(" "),a("p",[e._v("如果我们"),a("code",[e._v("import")]),e._v("的时候添加"),a("code",[e._v("webpackPrefetch")]),e._v("：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const { default: _ } = await import(/* webpackChunkName: \"lodash\" */ /* webpackPrefetch: true */ 'lodash');\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("就会以"),a("code",[e._v('<link rel="prefetch" as="script">')]),e._v("的形式预拉取"),a("code",[e._v("lodash")]),e._v("代码：")]),e._v(" "),a("p",[a("img",{attrs:{src:"webpack12.png",alt:"images"}})]),e._v(" "),a("p",[e._v("这个异步加载的代码不需要手动点击 button 触发，webpack 会在父 chunk 完成加载后，闲时加载"),a("code",[e._v("lodash")]),e._v("文件。")]),e._v(" "),a("p",[a("code",[e._v("webpackPreload")]),e._v("是预加载当前导航下可能需要资源，他和"),a("code",[e._v("webpackPrefetch")]),e._v("的主要区别是：")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("preload chunk")]),e._v("会在父"),a("code",[e._v("chunk")]),e._v("加载时，以并行方式开始加载。"),a("code",[e._v("prefetch chunk")]),e._v("会在父"),a("code",[e._v("chunk")]),e._v("加载结束后开始加载。")]),e._v(" "),a("li",[a("code",[e._v("preload chunk")]),e._v("具有中等优先级，并立即下载。"),a("code",[e._v("prefetch chunk")]),e._v("在浏览器闲置时下载。")]),e._v(" "),a("li",[a("code",[e._v("preload chunk")]),e._v("会在父"),a("code",[e._v("chunk")]),e._v("中立即请求，用于当下时刻。"),a("code",[e._v("prefetch chunk")]),e._v("会用于未来的某个时刻")])]),e._v(" "),a("h4",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结","aria-hidden":"true"}},[e._v("#")]),e._v(" 总结")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("webpackChunkName")]),e._v("是为预加载的文件取别名")]),e._v(" "),a("li",[a("code",[e._v("webpackPrefetch")]),e._v("会在浏览器闲置下载文件")]),e._v(" "),a("li",[a("code",[e._v("webpackPreload")]),e._v("会在父 chunk 加载时并行下载文件")])]),e._v(" "),a("h3",{attrs:{id:"四、hash、chunkhash、contenthash有什么不同？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、hash、chunkhash、contenthash有什么不同？","aria-hidden":"true"}},[e._v("#")]),e._v(" 四、"),a("code",[e._v("hash")]),e._v("、"),a("code",[e._v("chunkhash")]),e._v("、"),a("code",[e._v("contenthash")]),e._v("有什么不同？")]),e._v(" "),a("p",[e._v("首先来个背景介绍，哈希一般是结合 CDN 缓存来使用的。如果文件内容改变的话，那么对应文件哈希值也会改变，对应的 HTML 引用的 URL 地址也会改变，触发 CDN 服务器从源服务器上拉取对应数据，进而更新本地缓存。")]),e._v(" "),a("ul",[a("li",[e._v("hash")]),e._v(" "),a("li",[e._v("chunkhash")]),e._v(" "),a("li",[e._v("contenthash")])]),e._v(" "),a("h4",{attrs:{id:"_4-1-hash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-hash","aria-hidden":"true"}},[e._v("#")]),e._v(" 4.1 hash")]),e._v(" "),a("p",[e._v("hash 计算是跟整个项目的构建相关，我们做一个简单的 demo。")]),e._v(" "),a("p",[e._v("沿用案例 1 的 demo 代码，文件目录如下：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("src/\n├── index.css\n├── index.html\n├── index.js\n└── utils.js\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br")])]),a("p",[a("code",[e._v("webpack")]),e._v("的核心配置如下（省略了一些"),a("code",[e._v("module")]),e._v("配置信息）：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("{\n    entry: {\n        index: \"../src/index.js\",\n        utils: '../src/utils.js',\n    },\n    output: {\n        filename: \"[name].[hash].js\",  // 改为 hash\n    },\n\n    ......\n\n    plugins: [\n        new MiniCssExtractPlugin({\n            filename: 'index.[hash].css' // 改为 hash\n        }),\n    ]\n}\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br"),a("span",{staticClass:"line-number"},[e._v("14")]),a("br"),a("span",{staticClass:"line-number"},[e._v("15")]),a("br"),a("span",{staticClass:"line-number"},[e._v("16")]),a("br"),a("span",{staticClass:"line-number"},[e._v("17")]),a("br")])]),a("p",[e._v("生成的文件名如下：")]),e._v(" "),a("p",[a("img",{attrs:{src:"webpack13.png",alt:"images"}})]),e._v(" "),a("p",[e._v("我们可以发现，生成文件的"),a("code",[e._v("hash")]),e._v("和项目的构建"),a("code",[e._v("hash")]),e._v("都是一模一样的。")]),e._v(" "),a("h4",{attrs:{id:"_4-2-chunkhash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-chunkhash","aria-hidden":"true"}},[e._v("#")]),e._v(" 4.2 chunkhash")]),e._v(" "),a("p",[e._v("因为"),a("code",[e._v("hash")]),e._v("是项目构建的哈希值，项目中如果有些变动，"),a("code",[e._v("hash")]),e._v("一定会变，比如说我改动了"),a("code",[e._v("utils.js")]),e._v("的代码，"),a("code",[e._v("index.js")]),e._v("里的代码虽然没有改变，但是大家都是用的同一份"),a("code",[e._v("hash")]),e._v("。"),a("code",[e._v("hash")]),e._v("一变，缓存一定失效了，这样子是没办法实现 "),a("code",[e._v("CDN")]),e._v("和浏览器缓存的。")]),e._v(" "),a("p",[a("code",[e._v("chunkhash")]),e._v("就是解决这个问题的，它根据不同的入口文件(Entry)进行依赖文件解析、构建对应的"),a("code",[e._v("chunk")]),e._v("，生成对应的哈希值。")]),e._v(" "),a("p",[e._v("我们再举个例子，我们对"),a("code",[e._v("utils.js")]),e._v("里文件进行改动：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("export function square(x) {\n    return x * x;\n}\n\n// 增加 cube() 求立方函数\nexport function cube(x) {\n    return x * x * x;\n}\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br")])]),a("p",[e._v("然后把"),a("code",[e._v("webpack")]),e._v("里的所有"),a("code",[e._v("hash")]),e._v("改为"),a("code",[e._v("chunkhash")]),e._v("：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("{\n    entry: {\n        index: \"../src/index.js\",\n        utils: '../src/utils.js',\n    },\n    output: {\n        filename: \"[name].[chunkhash].js\", // 改为 chunkhash\n    },\n\n    ......\n\n    plugins: [\n        new MiniCssExtractPlugin({\n            filename: 'index.[chunkhash].css' // // 改为 chunkhash\n        }),\n    ]\n}\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br"),a("span",{staticClass:"line-number"},[e._v("14")]),a("br"),a("span",{staticClass:"line-number"},[e._v("15")]),a("br"),a("span",{staticClass:"line-number"},[e._v("16")]),a("br"),a("span",{staticClass:"line-number"},[e._v("17")]),a("br")])]),a("p",[e._v("构建结果如下：")]),e._v(" "),a("p",[a("img",{attrs:{src:"webpack14.png",alt:"images"}})]),e._v(" "),a("p",[e._v("我们可以看出，"),a("code",[e._v("chunk 0")]),e._v("的"),a("code",[e._v("hash")]),e._v("都是一样的，"),a("code",[e._v("chunk 1")]),e._v("的"),a("code",[e._v("hash")]),e._v("和上面的不一样。")]),e._v(" "),a("p",[e._v("假设我又把"),a("code",[e._v("utils.js")]),e._v("里的"),a("code",[e._v("cube()")]),e._v("函数去掉，再打包：")]),e._v(" "),a("p",[a("img",{attrs:{src:"webpack15.png",alt:"images"}})]),e._v(" "),a("p",[e._v("对比可以发现，只有"),a("code",[e._v("chunk 1")]),e._v("的"),a("code",[e._v("hash")]),e._v("发生变化，"),a("code",[e._v("chunk 0")]),e._v("的"),a("code",[e._v("hash")]),e._v("还是原来的。")]),e._v(" "),a("h4",{attrs:{id:"_4-3-contenthash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-contenthash","aria-hidden":"true"}},[e._v("#")]),e._v(" 4.3 contenthash")]),e._v(" "),a("p",[e._v("我们更近一步，"),a("code",[e._v("index.js")]),e._v("和"),a("code",[e._v("index.css")]),e._v("同为一个"),a("code",[e._v("chunk")]),e._v("，如果"),a("code",[e._v("index.js")]),e._v("内容发生变化，但是 "),a("code",[e._v("index.css")]),e._v("没有变化，打包后他们的"),a("code",[e._v("hash")]),e._v("都发生变化，这对"),a("code",[e._v("css")]),e._v("文件来说是一种浪费。如何解决这个问题呢？")]),e._v(" "),a("p",[a("code",[e._v("contenthash")]),e._v("将根据资源内容创建出唯一"),a("code",[e._v("hash")]),e._v("，也就是说文件内容不变，"),a("code",[e._v("hash")]),e._v("就不变。\n我们修改一下"),a("code",[e._v("webpack")]),e._v("的配置：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("{\n    entry: {\n        index: \"../src/index.js\",\n        utils: '../src/utils.js',\n    },\n    output: {\n        filename: \"[name].[chunkhash].js\",\n    },\n\n    ......\n\n    plugins: [\n        new MiniCssExtractPlugin({\n            filename: 'index.[contenthash].css' // 这里改为 contenthash\n        }),\n    ]\n}\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br"),a("span",{staticClass:"line-number"},[e._v("14")]),a("br"),a("span",{staticClass:"line-number"},[e._v("15")]),a("br"),a("span",{staticClass:"line-number"},[e._v("16")]),a("br"),a("span",{staticClass:"line-number"},[e._v("17")]),a("br")])]),a("p",[e._v("我们对"),a("code",[e._v("index.js")]),e._v("文件做了"),a("code",[e._v("3")]),e._v("次修改（就是改了改"),a("code",[e._v("log")]),e._v("函数的输出内容，过于简单就先不写了），然后分别构建，结果截图如下：")]),e._v(" "),a("p",[a("img",{attrs:{src:"webpack16.png",alt:"images"}})]),e._v(" "),a("p",[a("img",{attrs:{src:"webpack17.png",alt:"images"}})]),e._v(" "),a("p",[a("img",{attrs:{src:"webpack18.png",alt:"images"}})]),e._v(" "),a("p",[e._v("我们可以发现，"),a("code",[e._v("css")]),e._v("文件的"),a("code",[e._v("hash")]),e._v("都没有发生改变。")]),e._v(" "),a("h4",{attrs:{id:"_4-4-总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-总结","aria-hidden":"true"}},[e._v("#")]),e._v(" 4.4 总结")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("hash")]),e._v("计算与整个项目的构建相关；")]),e._v(" "),a("li",[a("code",[e._v("chunkhash")]),e._v("计算与同一"),a("code",[e._v("chunk")]),e._v("内容相关；")]),e._v(" "),a("li",[a("code",[e._v("contenthash")]),e._v("计算与文件内容本身相关。")])]),e._v(" "),a("h3",{attrs:{id:"五、sourse-map-中-eval、cheap、inline-和-module-各是什么意思？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、sourse-map-中-eval、cheap、inline-和-module-各是什么意思？","aria-hidden":"true"}},[e._v("#")]),e._v(" 五、"),a("code",[e._v("sourse-map")]),e._v(" 中 "),a("code",[e._v("eval")]),e._v("、"),a("code",[e._v("cheap")]),e._v("、"),a("code",[e._v("inline")]),e._v(" 和 "),a("code",[e._v("module")]),e._v(" 各是什么意思？")]),e._v(" "),a("p",[a("code",[e._v("sourse-map")]),e._v("，里面都有个"),a("code",[e._v("map")]),e._v("了，肯定是映射的意思。"),a("code",[e._v("sourse-map")]),e._v("就是一份"),a("strong",[e._v("源码和转换后代码的映射文件")]),e._v("。具体的原理内容较多，感兴趣的同学可以自行搜索，我这里就不多言了。")]),e._v(" "),a("p",[a("img",{attrs:{src:"webpack03.png",alt:"images"}})]),e._v(" "),a("p",[e._v("如果再仔细看一下，就发现这 13 种大部分都是"),a("code",[e._v("eval")]),e._v("、"),a("code",[e._v("cheap")]),e._v("、"),a("code",[e._v("inline")]),e._v(" 和 "),a("code",[e._v("module")]),e._v("这 4 个词排列组合的，我做了个简单的表格，比官网上直白多了：")]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("参数")]),e._v(" "),a("th",[e._v("参数解释")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("eval")]),e._v(" "),a("td",[e._v("打包后的模块都使用"),a("code",[e._v("eval()")]),e._v("执行，行映射可能不准；不产生独立的 map 文件")])]),e._v(" "),a("tr",[a("td",[e._v("cheap")]),e._v(" "),a("td",[e._v("map 映射只显示行不显示列，忽略源自 loader 的 source map")])]),e._v(" "),a("tr",[a("td",[e._v("inline")]),e._v(" "),a("td",[e._v("映射文件以 base64 格式编码，加在 bundle 文件最后，不产生独立的 map 文件")])]),e._v(" "),a("tr",[a("td",[e._v("module")]),e._v(" "),a("td",[e._v("增加对 loader source map 和第三方模块的映射")])])])]),e._v(" "),a("h3",{attrs:{id:"六、loader-和-plugin-的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六、loader-和-plugin-的区别","aria-hidden":"true"}},[e._v("#")]),e._v(" 六、"),a("code",[e._v("loader")]),e._v(" 和 "),a("code",[e._v("plugin")]),e._v(" 的区别")]),e._v(" "),a("ul",[a("li",[e._v("主要区别")])]),e._v(" "),a("h4",{attrs:{id:"区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#区别","aria-hidden":"true"}},[e._v("#")]),e._v(" 区别")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("loader")]),e._v("用于加载某些资源文件。因为 "),a("code",[e._v("webpack")]),e._v(" 本身只能打包"),a("code",[e._v("commonjs")]),e._v("规范的 "),a("code",[e._v("js")]),e._v(" 文件，对于其他资源例如 "),a("code",[e._v("css")]),e._v("，图片，或者其他的语法集，比如 "),a("code",[e._v("jsx")]),e._v("，"),a("code",[e._v("coffee")]),e._v("，是没有办法加载的。这就是需要对应的 "),a("code",[e._v("loader")]),e._v(" 将资源转化，加载进来。从字面意思也能看出，"),a("code",[e._v("loader")]),e._v(" 是用于加载的，它作用于一个个文件上。")]),e._v(" "),a("li",[a("code",[e._v("plugin")]),e._v("用于扩展 "),a("code",[e._v("webpack")]),e._v(" 的功能。它直接作用 "),a("code",[e._v("webpack")]),e._v("，扩展了它的功能。当然 "),a("code",[e._v("loader")]),e._v(" 也时变相的扩展了 "),a("code",[e._v("webpack")]),e._v("，但是它只专注于文件（transform）这一个领域。而 "),a("code",[e._v("plugin")]),e._v(" 的功能更加的丰富，而不仅局限于资源的加载。")]),e._v(" "),a("li",[a("strong",[e._v("Loader")]),e._v("在"),a("code",[e._v("module.rules")]),e._v("中配置，也就是说他作为模块的解析规则而存在。类型为数组，每一项都是一个"),a("code",[e._v("Object")]),e._v("，里面描述了对于什么类型的文件（"),a("code",[e._v("test")]),e._v("），使用什么加载（"),a("code",[e._v("loader")]),e._v("）和使用参数（"),a("code",[e._v("options")]),e._v("）")]),e._v(" "),a("li",[a("strong",[e._v("Plugin")]),e._v("在"),a("code",[e._v("plugins")]),e._v("中单独配置。类型为数组，每一项是一个"),a("code",[e._v("plugin")]),e._v("的实例，参数都通过构造函数传入。")])]),e._v(" "),a("h4",{attrs:{id:"七、webpack-与-grunt、gulp-的不同？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#七、webpack-与-grunt、gulp-的不同？","aria-hidden":"true"}},[e._v("#")]),e._v(" 七、webpack 与 grunt、gulp 的不同？")]),e._v(" "),a("ul",[a("li",[e._v("Grunt、Gulp 是基于任务运行的工具：它们会自动执行指定的任务，就像流水线，把资源放上去然后通过不同插件进行加工，它们饮食活跃的社区，丰富的插件，能方便的打造各种工作流。")]),e._v(" "),a("li",[e._v("Webpack 是基于模块化打包的工具：自动化处理模块，Webpack 把一切当成模块，当 webpack 处理应用程序时，它会递归地构建一个依赖关系图(dependency graph)，其中包含应用程序需要的每个模块，然后将所有这些模块打包成一个或多个 bundle。")])]),e._v(" "),a("p",[e._v("因此这是完全不同的两类工具，而现在主流的方式是用"),a("code",[e._v("npm script")]),e._v("代替"),a("code",[e._v("Grunt")]),e._v("、"),a("code",[e._v("Gulp")]),e._v("，"),a("code",[e._v("npm script")]),e._v("同样可以打造任务流。")]),e._v(" "),a("h4",{attrs:{id:"八、webpack、rollup、parcel-优劣？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#八、webpack、rollup、parcel-优劣？","aria-hidden":"true"}},[e._v("#")]),e._v(" 八、webpack、rollup、parcel 优劣？")]),e._v(" "),a("ul",[a("li",[e._v("webpack 适用于大型复杂的前端站点构建：webpack 有强大的 loader 和插件生态，打包后的文件实际上就是一个立即执行函数，这个立即执行函数接收一个参数，这个参数是模块对象，键为各个模块的路径，值为模块内容。立即执行函数内部则处理模块之间的引用，执行模块等，这种情况更适合文件依赖复杂的应用开发。")]),e._v(" "),a("li",[e._v("rollup 适用于基础库的打包，如 vue、d3 等;Rollup 就是将各个模块打包进一个文件中，并且通过"),a("code",[e._v("Tree-shaking")]),e._v("来删除无用的代码，可以最大程序上降低代码体积，但是"),a("code",[e._v("rollup")]),e._v("没有"),a("code",[e._v("webpack")]),e._v("如此多的如代码分割、按需加载等高级功能，其更聚集于库的打包，因此更适合库的开发。")]),e._v(" "),a("li",[e._v("percel 适用于简单的实验性项目：他可以满足低门槛的快速看到效果，但是生态差、报错信息不够全面都是他的硬伤，除了一些玩具项目或者实验项目不建议使用。")])]),e._v(" "),a("h3",{attrs:{id:"参考资料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考资料","aria-hidden":"true"}},[e._v("#")]),e._v(" 参考资料")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://juejin.im/post/5cede821f265da1bbd4b5630",target:"_blank",rel:"noopener noreferrer"}},[e._v("面试必备！webpack 中那些最易混淆的 5 个知识点"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/alienzhou/blog/issues/21",target:"_blank",rel:"noopener noreferrer"}},[e._v("【webpack 进阶】你真的掌握了 loader 么？- loader 十问"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://www.cxymsg.com/guide/webpack.html#%E5%88%86%E5%88%AB%E4%BB%8B%E7%BB%8Dbundle%EF%BC%8Cchunk%EF%BC%8Cmodule%E6%98%AF%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"}},[e._v("分别介绍 bundle，chunk，module 是什么"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://www.cxymsg.com/guide/webpack.html#webpack%E4%B8%8Egrunt%E3%80%81gulp%E7%9A%84%E4%B8%8D%E5%90%8C%EF%BC%9F",target:"_blank",rel:"noopener noreferrer"}},[e._v("webpack 与 grunt、gulp 的不同？"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.im/post/5e6f4b4e6fb9a07cd443d4a5",target:"_blank",rel:"noopener noreferrer"}},[e._v("「吐血整理」再来一打 Webpack 面试题 🔥(持续更新)"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://mp.weixin.qq.com/s/UdsP3u_LR64dzffNPCx-2g",target:"_blank",rel:"noopener noreferrer"}},[e._v("「吐血整理」再来一打 Webpack 面试题"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"联系作者"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#联系作者","aria-hidden":"true"}},[e._v("#")]),e._v(" 联系作者")]),e._v(" "),a("div",{attrs:{align:"center"}},[a("p",[e._v("\n        平凡世界，贵在坚持。\n    ")]),e._v(" "),a("img",{attrs:{src:e.$withBase("/about/contact.png")}})])])}),[],!1,null,null,null);s.default=t.exports}}]);