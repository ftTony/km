(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{248:function(s,n,a){"use strict";a.r(n);var t=a(4),e=Object(t.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"行为型设计模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#行为型设计模式","aria-hidden":"true"}},[s._v("#")]),s._v(" 行为型设计模式")]),s._v(" "),a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言","aria-hidden":"true"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),a("p",[s._v("本人平时学习及收集内容，欢迎参入一起讨论。")]),s._v(" "),a("h2",{attrs:{id:"内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#内容","aria-hidden":"true"}},[s._v("#")]),s._v(" 内容")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E4%B8%80%E3%80%81%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F"}},[s._v("模板方法模式")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E4%BA%8C%E3%80%81%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F"}},[s._v("观察者模式")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E4%B8%89%E3%80%81%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F"}},[s._v("状态模式")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%9B%9B%E3%80%81%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F"}},[s._v("策略模式")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E4%BA%94%E3%80%81%E8%81%8C%E8%B4%A3%E9%93%BE%E6%A8%A1%E5%BC%8F"}},[s._v("职责链模式")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%85%AD%E3%80%81%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F"}},[s._v("命令模式")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E4%B8%83%E3%80%81%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F"}},[s._v("访问者模式")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%85%AB%E3%80%81%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F"}},[s._v("中介者模式")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E4%B9%9D%E3%80%81%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F"}},[s._v("备忘录模式")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%8D%81%E3%80%81%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F"}},[s._v("解释器模式")])])]),s._v(" "),a("h3",{attrs:{id:"一、模板方法模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、模板方法模式","aria-hidden":"true"}},[s._v("#")]),s._v(" 一、模板方法模式")]),s._v(" "),a("h4",{attrs:{id:"_1-1-介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-介绍","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.1 介绍")]),s._v(" "),a("p",[s._v("模板方法模式由两部分结构组成，第一部分是抽象父类，第二部分是具体的实现子类。通常在抽象父类中封装了子类的算法框架，包括实现一些公共方法和封装子类中所有方法的执行顺序。子类通过继承这个抽象类，也继承了整个算法结构，并且可以选择重写父类的方法。")]),s._v(" "),a("h4",{attrs:{id:"_1-2-代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-代码","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.2 代码")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("class Beverage{\n    constructor({brewDrink,addCondiment}){\n        this.brewDrink = brewDrink\n        this.addCondiment = addCondiment\n    }\n    /* 烧开水，共用方法 */\n    boilWater(){\n        console.log('水已经煮沸===共用')\n    }\n    /* 倒杯子里，共用方法 */\n    pourCup(){\n        console.log('倒进杯子里===共用')\n    }\n    /* 模板方法 */\n    init(){\n        this.boilWater()\n        this.brewDrink()\n        this.pourCup()\n        this.addCondiment()\n    }\n}\n/* 咖啡 */\nconst coffee = new Beverage({\n    /* 冲泡咖啡，覆盖抽象方法 */\n    brewDrink:function(){\n        console.log('冲泡咖啡')\n    },\n    /* 加调味品，覆盖抽象方法 */\n    addCondiment:function(){\n        console.log('加点奶和糖')\n    }\n})\ncoffee.init()\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br")])]),a("h4",{attrs:{id:"_1-3-优点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-优点","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.3 优点")]),s._v(" "),a("ul",[a("li",[s._v("提取了公共代码部分，易于维护")])]),s._v(" "),a("h4",{attrs:{id:"_1-4-缺点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-缺点","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.4 缺点")]),s._v(" "),a("ul",[a("li",[s._v("增加了系统复杂度，主要是增加了的抽象类和类间联系")])]),s._v(" "),a("h4",{attrs:{id:"_1-5-场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-场景","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.5 场景")]),s._v(" "),a("ul",[a("li",[s._v("一次性实现一个算法的就变的部分，并将可变的行为留给子类来实现")]),s._v(" "),a("li",[s._v("子类中公共的行为应被提取出来并集中到一个公共类中避免代码重复")])]),s._v(" "),a("h3",{attrs:{id:"二、观察者模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、观察者模式","aria-hidden":"true"}},[s._v("#")]),s._v(" 二、观察者模式")]),s._v(" "),a("p",[s._v("参考"),a("router-link",{attrs:{to:"/cs/design-pattern-subscription.html"}},[s._v("观察者模式和发布订阅模式的区别")])],1),s._v(" "),a("h3",{attrs:{id:"三、状态模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、状态模式","aria-hidden":"true"}},[s._v("#")]),s._v(" 三、状态模式")]),s._v(" "),a("h4",{attrs:{id:"_3-1-介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-介绍","aria-hidden":"true"}},[s._v("#")]),s._v(" 3.1 介绍")]),s._v(" "),a("p",[s._v("允许一个对象在其内部状态改变的时候改变它的行为，对象看起来似乎修改了它的类")]),s._v(" "),a("h4",{attrs:{id:"_3-2-代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-代码","aria-hidden":"true"}},[s._v("#")]),s._v(" 3.2 代码")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("class State{\n    constructor(state){\n        this.state = state\n    }\n    handle(context){\n        console.log(`this is ${this.state} light`)\n        context.setState(this)\n    }\n}\nclass Context{\n    constructor(){\n        this.state = null\n    }\n    getState(){\n        return this.state\n    }\n    setState(state){\n        this.state = state\n    }\n}\n// test\nlet context = new Context()\nlet weak = new State('weak')\nlet strong = new State('strong')\nlet off = new State('off')\n\n// 弱光\nweak.handle(context)\nconsole.log(context.getState())\n\n// 强光\nstrong.handle(context)\nconsole.log(context.getState())\n\n// 关闭\noff.handle(context)\nconsole.log(context.getState())\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br")])]),a("h4",{attrs:{id:"_3-3-优点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-优点","aria-hidden":"true"}},[s._v("#")]),s._v(" 3.3 优点")]),s._v(" "),a("ul",[a("li",[s._v("定义了状态与行为之间关系，封装在一个类里，更直观清晰，增改方便")]),s._v(" "),a("li",[s._v("状态与状态间，行为与行为间彼此独立互不干扰")]),s._v(" "),a("li",[s._v("用对象代替字符串来记录当前状态，使得状态的切换更加一目了然")])]),s._v(" "),a("h4",{attrs:{id:"_3-4-缺点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-缺点","aria-hidden":"true"}},[s._v("#")]),s._v(" 3.4 缺点")]),s._v(" "),a("ul",[a("li",[s._v("会在系统中定义许多状态类")]),s._v(" "),a("li",[s._v("逻辑分散")])]),s._v(" "),a("h4",{attrs:{id:"_3-5-场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-场景","aria-hidden":"true"}},[s._v("#")]),s._v(" 3.5 场景")]),s._v(" "),a("ul",[a("li",[s._v("一个对象的行为取决于它的状态，并且它必须在运行时刻根据状态改变它的行为")]),s._v(" "),a("li",[s._v("一个操作中含有大量的分支语句，而且这些分支语句依赖于该对象的状态")])]),s._v(" "),a("h3",{attrs:{id:"四、策略模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、策略模式","aria-hidden":"true"}},[s._v("#")]),s._v(" 四、策略模式")]),s._v(" "),a("h4",{attrs:{id:"_4-1-介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-介绍","aria-hidden":"true"}},[s._v("#")]),s._v(" 4.1 介绍")]),s._v(" "),a("p",[s._v("定义一系列的算法，把它们一个个封装起来，并且使它们可以互相替换")]),s._v(" "),a("h4",{attrs:{id:"_4-2-代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-代码","aria-hidden":"true"}},[s._v("#")]),s._v(" 4.2 代码")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<html>\n<head>\n    <title>策略模式-校验表单</title>\n    <meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\">\n</head>\n<body>\n    <form id = \"registerForm\" method=\"post\" action=\"http://xxxx.com/api/register\">\n        用户名：<input type=\"text\" name=\"userName\">\n        密码：<input type=\"text\" name=\"password\">\n        手机号码：<input type=\"text\" name=\"phoneNumber\">\n        <button type=\"submit\">提交</button>\n    </form>\n    <script type=\"text/javascript\">\n        // 策略对象\n        const strategies = {\n            isNoEmpty: function(value,errorMsg){\n                if(value === ''){\n                    return errorMsg;\n                }\n            },\n            isNoSpace: function(value,errorMsg){\n                if(value.trim() === ''){\n                    return errorMsg;\n                }\n            },\n            minLength: function(value,length,errorMsg){\n                if(value.trim().length < length){\n                    return errorMsg;\n                }\n            },\n            maxLength: function(value,length,errorMsg){\n                if(value.length>length){\n                    return errorMsg;\n                }\n            },\n            isMobile:function(value,errorMsg){\n                if (!/^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|17[7]|18[0|1|2|3|5|6|7|8|9])\\d{8}$/.test(value)) {\n                    return errorMsg;\n                }\n            }\n        }\n\n        // 验证类\n        class Validator{\n            constructor(){\n                this.cache = []\n            }\n            add(dom,rules){\n                for(let i = 0,rule;rule = rules[i++];){\n                    let strategyAry = rule.errorMsg\n                    this.cache.push(()=>{\n                        let strategy = strategyAry.shift()\n                        strategyAry.unshift(dom.value)\n                        strategyAry.push(errorMsg)\n                        return strategies[strategy].apply(dom,strategyAry)\n                    })\n                }\n            }\n            start(){\n                for(let i=0,validatorFunc;validatorFunc = this.cache[i++];){\n                    let errorMsg = validatorFunc()\n                    if(errorMsg){\n                        return errorMsg\n                    }\n                }\n            }\n        }\n\n        // 调用代码\n        let registerFomr = document.getElementById('registerForm')\n\n        let validataFunc = function(){\n            let validator = new Validator()\n            validator.add(registerForm.userName,[{\n                strategy: 'isNoEmpty',\n                errorMsg: '用户名不可为空'\n            },{\n                strategy: 'isNoSpace',\n                errorMsg: '不允许以空白字符命名'\n            },{\n                strategy: 'minLength:2',\n                errorMsg:'用户名长度不能小于2位'\n            }])\n            validator.add(registerForm.password,[{\n                strategy: 'minLength:6',\n                errorMsg: '密码长度不能小于6位'\n            }])\n            validator.add(registerForm.phoneNumber,[{\n                strategy: 'isMobile',\n                errorMsg: '请输入正确的手机号码格式'\n            }])\n            return validator.start(0)\n        }\n\n        registerForm.onsubmit = function(){\n            let errorMsg = validataFunc()\n            if(errorMsg){\n                console.log(errorMsg)\n                return false\n            }\n        }\n    <\/script>\n</body>\n</html>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br"),a("span",{staticClass:"line-number"},[s._v("98")]),a("br"),a("span",{staticClass:"line-number"},[s._v("99")]),a("br"),a("span",{staticClass:"line-number"},[s._v("100")]),a("br"),a("span",{staticClass:"line-number"},[s._v("101")]),a("br"),a("span",{staticClass:"line-number"},[s._v("102")]),a("br"),a("span",{staticClass:"line-number"},[s._v("103")]),a("br"),a("span",{staticClass:"line-number"},[s._v("104")]),a("br")])]),a("h4",{attrs:{id:"_4-3-优点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-优点","aria-hidden":"true"}},[s._v("#")]),s._v(" 4.3 优点")]),s._v(" "),a("ul",[a("li",[s._v("利用组合、委托、多态等技术和思想，可以有效的避免多重条件选择语句")]),s._v(" "),a("li",[s._v("提供了对开放-封闭原则的完美支持，将算法封装在独立的 strategy 中，使得它们易于切换，理解，易于扩展")]),s._v(" "),a("li",[s._v("利用组合和委托来让 Context 拥有执行算法的能力，这也是继承的一种更轻便的代替方案")])]),s._v(" "),a("h4",{attrs:{id:"_4-4-缺点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-缺点","aria-hidden":"true"}},[s._v("#")]),s._v(" 4.4 缺点")]),s._v(" "),a("ul",[a("li",[s._v("会在程序中增加许多策略类或者策略对象")]),s._v(" "),a("li",[s._v("要使用策略模式，必须了解所有的 strategy，必须了解各个 strategy 之间的不同点，这样才选择一个合适的 strategy")])]),s._v(" "),a("h4",{attrs:{id:"_4-5-场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-场景","aria-hidden":"true"}},[s._v("#")]),s._v(" 4.5 场景")]),s._v(" "),a("ul",[a("li",[s._v("如果在一个系统里面有许多类，它们之间的区别仅在于它们的行为，那么使用策略模式可以动态地让一个对象在许多行为中选择一种行为。")]),s._v(" "),a("li",[s._v("一个系统需要动态地在几种算法中选择一种。")]),s._v(" "),a("li",[s._v("表单验证")])]),s._v(" "),a("h3",{attrs:{id:"五、职责链模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、职责链模式","aria-hidden":"true"}},[s._v("#")]),s._v(" 五、职责链模式")]),s._v(" "),a("h4",{attrs:{id:"_5-1-介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-介绍","aria-hidden":"true"}},[s._v("#")]),s._v(" 5.1 介绍")]),s._v(" "),a("p",[s._v("使多个对象都有机会处理请求，从而避免请求的发送者和接受者之间的耦合关系，将这些对象连成一条链，并沿着这条链传递该请求，直到有一个对象处理它为止")]),s._v(" "),a("h4",{attrs:{id:"_5-2-代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-代码","aria-hidden":"true"}},[s._v("#")]),s._v(" 5.2 代码")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//  请假审批，需要组长审批、经理审批、总监审批\nclass Action{\n    constructor(name){\n        this.name = name\n        this.nextAction = null\n    }\n    setNextAction(action){\n        this.nextAction = action\n    }\n    handle(){\n        console.log(`${this.name} 审批`)\n        if(this.nextAction != null){\n            this.nextAction.handle()\n        }\n    }\n}\n\nlet a1 = new Action('组长')\nlet a2 = new Action('经理')\nlet a3 = new Action('总监')\na1.setNextAction(a2)\na2.setNextAction(a3)\na1.handle()\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("h4",{attrs:{id:"_5-3-优点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-优点","aria-hidden":"true"}},[s._v("#")]),s._v(" 5.3 优点")]),s._v(" "),a("ul",[a("li",[s._v("降低耦合度。它将请求的发送者和接收者解耦。")]),s._v(" "),a("li",[s._v("简化了对象。使得对象不需要知道链的结构")]),s._v(" "),a("li",[s._v("增强给对象指派职责的灵活性。通过改变链内的成员或者调动它们的次序，允许动态地新增或者删除责任")]),s._v(" "),a("li",[s._v("增加新的请求处理类很方便。")])]),s._v(" "),a("h4",{attrs:{id:"_5-4-缺点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-缺点","aria-hidden":"true"}},[s._v("#")]),s._v(" 5.4 缺点")]),s._v(" "),a("ul",[a("li",[s._v("不能保证某个请求一定会被链中的节点处理，")]),s._v(" "),a("li",[s._v("使程序中多了很多节点对象，可能再一次请求的过程中，大部分的节点并没有起到实质性的作用。他们的作用仅仅是让请求传递下去，从性能方面考虑，要避免过长的职责链到来的性能损耗。")])]),s._v(" "),a("h4",{attrs:{id:"_5-5-场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-场景","aria-hidden":"true"}},[s._v("#")]),s._v(" 5.5 场景")]),s._v(" "),a("ul",[a("li",[s._v("JS 中的事件冒泡")]),s._v(" "),a("li",[s._v("作用域链")]),s._v(" "),a("li",[s._v("原型链")])]),s._v(" "),a("h3",{attrs:{id:"六、命令模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六、命令模式","aria-hidden":"true"}},[s._v("#")]),s._v(" 六、命令模式")]),s._v(" "),a("h4",{attrs:{id:"_6-1-介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-介绍","aria-hidden":"true"}},[s._v("#")]),s._v(" 6.1 介绍")]),s._v(" "),a("p",[s._v("将一个请求封装成一个对象，从而让你使用不同的请求把客户端参数化，对请求排队或者记录请求日志，可以提供命令的撤销和恢复功能。")]),s._v(" "),a("h4",{attrs:{id:"_6-2-代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-代码","aria-hidden":"true"}},[s._v("#")]),s._v(" 6.2 代码")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// 接收者类\nclass Receiver{\n    execute(){\n        console.log('接收者执行请求')\n    }\n}\n\n//  命令者\nclass Command{\n    constructor(receiver){\n        this.receiver = receiver\n    }\n    execute(){\n        console.log('命令')\n        this.receiver.execute()\n    }\n}\n\n// 触发者\nclass Invoke{\n    constructor(command){\n        this.command = command\n    }\n    invoke(){\n        console.log('开始')\n        this.command.execute()\n    }\n}\n\n// 仓库\nconst warehouse = new Receiver()\n// 订单\nconst order - new Command(warehouse)\n// 客户\nconst client = new Invoker(order);\nclient.invoke()\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br")])]),a("h4",{attrs:{id:"_6-3-优点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-优点","aria-hidden":"true"}},[s._v("#")]),s._v(" 6.3 优点")]),s._v(" "),a("ul",[a("li",[s._v("对命令进行封装，使命令易于扩展和修改")]),s._v(" "),a("li",[s._v("命令发出者和接受解耦，使发出者不需要知道命令的具体执行过程即可执行")])]),s._v(" "),a("h4",{attrs:{id:"_6-4-缺点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-缺点","aria-hidden":"true"}},[s._v("#")]),s._v(" 6.4 缺点")]),s._v(" "),a("ul",[a("li",[s._v("使用命令模式可能会导致某此系统有过多的具体命令类。")])]),s._v(" "),a("h3",{attrs:{id:"七、访问者模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#七、访问者模式","aria-hidden":"true"}},[s._v("#")]),s._v(" 七、访问者模式")]),s._v(" "),a("h4",{attrs:{id:"_7-1-介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-介绍","aria-hidden":"true"}},[s._v("#")]),s._v(" 7.1 介绍")]),s._v(" "),a("p",[s._v("表示一个作用于某对象结构中各元素操作。它使你可以在不改变各元素的类的前提下定义作用")]),s._v(" "),a("h4",{attrs:{id:"_7-2-代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-代码","aria-hidden":"true"}},[s._v("#")]),s._v(" 7.2 代码")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// 访问者\nclass Visitor{\n    constructor(){}\n    visitConcreteElement(ConcreteElement){\n        ConcreteElement.operation()\n    }\n}\n\n// 元素类\nclass ConcreteElement{\n    construnctor(){\n    }\n    operation(){\n        console.log('ConcreteElement.operation invoked');\n    }\n    accept(visitor){\n        visitor.visitConcreteElement(this)\n    }\n}\n// client\nlet visitor = new Visitor()\nlet element = new ConcreteElement()\nelement.appcept(visitor)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("h4",{attrs:{id:"_7-3-优点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-3-优点","aria-hidden":"true"}},[s._v("#")]),s._v(" 7.3 优点")]),s._v(" "),a("ul",[a("li",[s._v("符合单一职责原则")]),s._v(" "),a("li",[s._v("优秀的扩展性")]),s._v(" "),a("li",[s._v("灵活性")])]),s._v(" "),a("h4",{attrs:{id:"_7-4-缺点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-缺点","aria-hidden":"true"}},[s._v("#")]),s._v(" 7.4 缺点")]),s._v(" "),a("ul",[a("li",[s._v("具体元素对访问者公布细节，违反了迪米特原则")]),s._v(" "),a("li",[s._v("违反了依赖倒置原则，依赖了具体类，没有依赖抽象。")]),s._v(" "),a("li",[s._v("具体元素变更比较困难")])]),s._v(" "),a("h4",{attrs:{id:"_7-5-场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-5-场景","aria-hidden":"true"}},[s._v("#")]),s._v(" 7.5 场景")]),s._v(" "),a("ul",[a("li",[s._v("对象结构中对象对应的类很少改变，但经常需要在此对象结构上定义新的操作")]),s._v(" "),a("li",[s._v("需要对一个对象结构中的对象进行很多不同的并且不相关的操作，而需要避免让这些操作“污染”这些对象的类，也不希望在增加新操作时修改这些类。")])]),s._v(" "),a("h3",{attrs:{id:"八、中介者模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#八、中介者模式","aria-hidden":"true"}},[s._v("#")]),s._v(" 八、中介者模式")]),s._v(" "),a("h4",{attrs:{id:"_8-1-介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-1-介绍","aria-hidden":"true"}},[s._v("#")]),s._v(" 8.1 介绍")]),s._v(" "),a("p",[s._v("解除对象与对象之间的紧耦合关系。增加一个中介者对象后，所有的相关对象都通过中介者对象来通信，而不是互相引用，所以当一个对象发生改变时，只需要通知中介者对象即可。中介者使各对象之间耦合松散，而且可以独立地改变它们之间的交互。中介者模式使网状的多对多关系变成了相对简单的一对多关系（类似于观察者模式，但是单向的，由中介者统一管理。）")]),s._v(" "),a("h4",{attrs:{id:"_8-2-代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-代码","aria-hidden":"true"}},[s._v("#")]),s._v(" 8.2 代码")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("class A{\n    constructor(){\n        this.number = 0\n    }\n    setNumber(num,m){\n        this.number = num\n        if(m){\n            m.setB()\n        }\n    }\n}\nclass B{\n    constructor(){\n        this.number = 0\n    }\n    setNumber(num,m){\n\n    }\n}\nclass Mediator{\n    constructor(a,b){\n        this.a = a\n        this.b = b\n    }\n    setA(){\n        let number = this.b.number\n        this.a.setNumber(number*10)\n    }\n    setB(){\n        let number = this.a.number\n        this.b.setNumber(number/10)\n    }\n}\n\nlet a = new A()\nlet b = new B()\nlet m = new Mediator(a,b)\na.setNumber(10,m)\nconsole.log(a.number,b.number)\nb.setNumber(10,m)\nconsole.log(a.number,b.number)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br")])]),a("h4",{attrs:{id:"_8-3-优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-3-优化","aria-hidden":"true"}},[s._v("#")]),s._v(" 8.3 优化")]),s._v(" "),a("ul",[a("li",[s._v("使各对象之间耦合松散，而且可以独立地改变它们之间的交互")]),s._v(" "),a("li",[s._v("中介者和对象一对多的关系取代了对象之间的网状多对多的关系")]),s._v(" "),a("li",[s._v("如果对象之间的复杂耦合度度导致维护很困难，而且耦合度随项目变化增速很快，就需要中介者重构代码")])]),s._v(" "),a("h4",{attrs:{id:"_8-4-缺点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-4-缺点","aria-hidden":"true"}},[s._v("#")]),s._v(" 8.4 缺点")]),s._v(" "),a("ul",[a("li",[s._v("系统中会新增一个中介者对象，因为对象之间交互的复杂性，转移成了中介者对象的复杂性，使得中介者对象经常是巨大的。中介者对象自身往往就是一个难以维护的对象。")])]),s._v(" "),a("h4",{attrs:{id:"_8-5-场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-5-场景","aria-hidden":"true"}},[s._v("#")]),s._v(" 8.5 场景")]),s._v(" "),a("ul",[a("li",[s._v("系统中对象之间在比较复杂的引用关系，导致它们之间的依赖关系结构混乱而且难以复用该对象")]),s._v(" "),a("li",[s._v("想通过一个中间类来封装多个类中的行为，而又不想生成太多的子类。")])]),s._v(" "),a("h3",{attrs:{id:"九、备忘录模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#九、备忘录模式","aria-hidden":"true"}},[s._v("#")]),s._v(" 九、备忘录模式")]),s._v(" "),a("h4",{attrs:{id:"_9-1-介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-1-介绍","aria-hidden":"true"}},[s._v("#")]),s._v(" 9.1 介绍")]),s._v(" "),a("p",[s._v("在不破坏封装性的前提下，捕获一个对象的内部状态，并在该对象之外保存这个状态。这样以后就可将该对象恢复到保存的状态。")]),s._v(" "),a("h4",{attrs:{id:"_9-2-代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-2-代码","aria-hidden":"true"}},[s._v("#")]),s._v(" 9.2 代码")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// 备忘类\nclass Memento{\n    constructor(content){\n        this.content = content\n    }\n    getContent(){\n        return this.content\n    }\n}\n// 备忘列表\nclass CareTaker{\n    constructor(){\n        this.list = []\n    }\n    add(memento){\n        this.list.push(memento)\n    }\n    get(index){\n        return this.list[index]\n    }\n}\n// 编辑器\nclass Editor{\n    constructor(){\n        this.content = null\n    }\n    setContent(content){\n        this.content = content\n    }\n    getContent(){\n        return this.content\n    }\n    saveContentToMemento(){\n        return new Memento(this.content)\n    }\n    getContentFromMemento(memento){\n        this.content = memento.getContent()\n    }\n}\n\n// 测试代码\n\nlet editor = new Editor()\nlet careTaker = new CareTaker()\n\neditor.setContent('111')\neditor.setContent('222')\ncareTaker.add(editor.saveContentToMemento())\neditor.setContent('333')\ncareTaker.add(editor.saveContentToMemento())\neditor.setContent('444')\n\nconsole.log(editor.getContent()) //444\neditor.getContentFromMemento(careTaker.get(1))\nconsole.log(editor.getContent()) //333\n\neditor.getContentFromMemento(careTaker.get(0))\nconsole.log(editor.getContent()) //222\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br")])]),a("h4",{attrs:{id:"_9-3-优点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-3-优点","aria-hidden":"true"}},[s._v("#")]),s._v(" 9.3 优点")]),s._v(" "),a("ul",[a("li",[s._v("给用户提供了一种可以恢复状态的机制，可以使用户能够比较方便地回到某个历史的状态")])]),s._v(" "),a("h4",{attrs:{id:"_9-4-缺点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-4-缺点","aria-hidden":"true"}},[s._v("#")]),s._v(" 9.4 缺点")]),s._v(" "),a("ul",[a("li",[s._v("消耗资源。如果类的成员变量过多，势必会占用比较大的资源，而且每一次保存都会消耗一定的内存。")])]),s._v(" "),a("h4",{attrs:{id:"_9-5-场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-5-场景","aria-hidden":"true"}},[s._v("#")]),s._v(" 9.5 场景")]),s._v(" "),a("ul",[a("li",[s._v("分页控件")]),s._v(" "),a("li",[s._v("撤销组件")])]),s._v(" "),a("h3",{attrs:{id:"十、解释器模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#十、解释器模式","aria-hidden":"true"}},[s._v("#")]),s._v(" 十、解释器模式")]),s._v(" "),a("h4",{attrs:{id:"_10-1-介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-1-介绍","aria-hidden":"true"}},[s._v("#")]),s._v(" 10.1 介绍")]),s._v(" "),a("p",[s._v("给定一个语言，定义它的方法的一种表示，并定义一个解释器，该解释器使用该表示来解释语言中的句子。")]),s._v(" "),a("h4",{attrs:{id:"_10-2-代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-2-代码","aria-hidden":"true"}},[s._v("#")]),s._v(" 10.2 代码")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("class Context{\n    constructor(){\n        this._list = [];        // 存放 终结符表达式\n        this._sum = 0;      // 存放 非终结符表达式\n    }\n\n    get sum(){\n        return this._sum;\n    }\n\n    set sum(newValue){\n        this._sum = newValue;\n    }\n\n    add(expression){\n        this._list.push(expression)\n    }\n    get List(){\n        return [...this._list]\n    }\n}\n\nclass PlusExpression{\n    interpret(context){\n        if(!(context instanceof Context)){\n            throw new Error('TypeError')\n        }\n        context.sum = ++context.sum\n    }\n}\n\nclass MinusExpression{\n    interpret(context){\n        if(!(context instanceof Context)){\n            throw new Error('TypeError')\n        }\n        context.sum = --context.sum;\n    }\n}\n\nconst context = new Context();\ncontext.add(new PlusExpression());\ncontext.add(new PlusExpression());\ncontext.add(new MinusExpression());\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br")])]),a("h4",{attrs:{id:"_10-3-优点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-3-优点","aria-hidden":"true"}},[s._v("#")]),s._v(" 10.3 优点")]),s._v(" "),a("ul",[a("li",[s._v("易于改变和扩展方法")]),s._v(" "),a("li",[s._v("由于在解释器模式中使用类来表示语言的文法规则，因此可以通过继承等机制来改变或扩展方法")])]),s._v(" "),a("h4",{attrs:{id:"_10-4-缺点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-4-缺点","aria-hidden":"true"}},[s._v("#")]),s._v(" 10.4 缺点")]),s._v(" "),a("ul",[a("li",[s._v("执行效率较低，在解释器模式中使用了大量的循环和递归调用，因此在解释较为复杂的句子时其速度慢")]),s._v(" "),a("li",[s._v("对于复杂的文法比较难维护")])]),s._v(" "),a("h4",{attrs:{id:"_10-5-场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-5-场景","aria-hidden":"true"}},[s._v("#")]),s._v(" 10.5 场景")]),s._v(" "),a("h3",{attrs:{id:"参考资料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考资料","aria-hidden":"true"}},[s._v("#")]),s._v(" 参考资料")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://juejin.im/post/5e021eb96fb9a01628014095",target:"_blank",rel:"noopener noreferrer"}},[s._v("JavaScript 设计模式 es6（23 种)"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("《JavaScript 设计模式》")])]),s._v(" "),a("h2",{attrs:{id:"联系作者"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#联系作者","aria-hidden":"true"}},[s._v("#")]),s._v(" 联系作者")]),s._v(" "),a("div",{attrs:{align:"center"}},[a("p",[s._v("\n        平凡世界，贵在坚持。\n    ")]),s._v(" "),a("img",{attrs:{src:s.$withBase("/about/contact.png")}})])])}),[],!1,null,null,null);n.default=e.exports}}]);