(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{264:function(s,a,e){"use strict";e.r(a);var t=e(13),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"linux-免密登录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#linux-免密登录"}},[s._v("#")]),s._v(" linux 免密登录")]),s._v(" "),e("h2",{attrs:{id:"前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),e("p",[s._v("本人平时学习及收集内容，欢迎参入一起讨论。")]),s._v(" "),e("h2",{attrs:{id:"内容"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#内容"}},[s._v("#")]),s._v(" 内容")]),s._v(" "),e("ul",[e("li",[s._v("基本配置")]),s._v(" "),e("li",[s._v("进阶配置")])]),s._v(" "),e("h3",{attrs:{id:"一、基本配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、基本配置"}},[s._v("#")]),s._v(" 一、基本配置")]),s._v(" "),e("h4",{attrs:{id:"_1-1-生成密钥"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-生成密钥"}},[s._v("#")]),s._v(" 1.1 生成密钥")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('cd ~/.ssh/\nssh-keygen -t rsa -C "my_name" -f "my_key"\n# 这一步会生成 my_key.pub（公钥） my_key(私钥)\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h4",{attrs:{id:"_1-2-将公钥放在目标服务器上"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-将公钥放在目标服务器上"}},[s._v("#")]),s._v(" 1.2 将公钥放在目标服务器上")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("scp ./my_key.pub root@目标服务器:/root/.ssh/\n# 这里使用 scp 命令远程复制公钥\n# 注意要存放在登录用户所在目录的 .ssh 文件夹里，这里使用 root 用户登录，故存在 root 用户的用户目录。\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h4",{attrs:{id:"_1-3-将公钥存放进目标服务器-authorized-keys-里"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-将公钥存放进目标服务器-authorized-keys-里"}},[s._v("#")]),s._v(" 1.3 将公钥存放进目标服务器 authorized_keys 里")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("cat my_key.pub >> authorized_keys\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"_1-4-使用免密登录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-使用免密登录"}},[s._v("#")]),s._v(" 1.4 使用免密登录")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ssh -i ~/.ssh/my_key root@192.168.1.1\n# -i 指定私钥的路径\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("基本配置已经完成了，但每一次连接都得手动指定本机的私钥地址，能不能省略这一步呢？")]),s._v(" "),e("h3",{attrs:{id:"二、进阶配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、进阶配置"}},[s._v("#")]),s._v(" 二、进阶配置")]),s._v(" "),e("p",[s._v("进阶配置中，我们要配置本地 .ssh 下的 config 文件，实现自动登录，而不需要手动指定私钥地址。")]),s._v(" "),e("h4",{attrs:{id:"_2-1-进入-config-文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-进入-config-文件"}},[s._v("#")]),s._v(" 2.1 进入 config 文件")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("cd ~/.ssh/\nvi config\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h4",{attrs:{id:"_2-2-编辑-config-文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-编辑-config-文件"}},[s._v("#")]),s._v(" 2.2 编辑 config 文件")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("User root\nHost tencent\nHostName 49.235.171.183\nPort 22\nStrictHostKeyChecking no\nIdentityFile ~/.ssh/id_rsa\nIdentitiesOnly yes\nProtocol 2\nCompression yes\nServerAliveInterval 60\nServerAliveCountMax 20\nLogLevel INFO\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])]),e("h4",{attrs:{id:"_2-3-配置完成，体验一下吧"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-配置完成，体验一下吧"}},[s._v("#")]),s._v(" 2.3 配置完成，体验一下吧")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ssh tencent\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"_2-4-配置多个服务器登录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-配置多个服务器登录"}},[s._v("#")]),s._v(" 2.4 配置多个服务器登录")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("User root\nHost tencent\nHostName 49.235.171.183\nPort 22\nStrictHostKeyChecking no\nIdentityFile ~/.ssh/id_rsa\nIdentitiesOnly yes\nProtocol 2\nCompression yes\nServerAliveInterval 60\nServerAliveCountMax 20\nLogLevel INFO\n\nHost aliyun\nUser root\nHostName 112.74.54.47\nPort 22\nStrictHostKeyChecking no\nIdentityFile ~/.ssh/id_rsa\nIdentitiesOnly yes\nProtocol 2\nCompression yes\nServerAliveInterval 60\nServerAliveCountMax 20\nLoglevel INFO\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br")])]),e("h4",{attrs:{id:"_2-5-使用免密登录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-使用免密登录"}},[s._v("#")]),s._v(" 2.5 使用免密登录")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ssh aliyun\nssh tencent\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("blockquote",[e("p",[e("strong",[s._v("提示")]),s._v("\n文中的 ip 地址是为了演示，具体的 ip 需要根据服务器真实 ip 来定。")])]),s._v(" "),e("h3",{attrs:{id:"参考资料"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[s._v("#")]),s._v(" 参考资料")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://lmjben.github.io/blog/operation-linux-login.html#%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux 免密登录配置"),e("OutboundLink")],1)])]),s._v(" "),e("h2",{attrs:{id:"联系作者"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#联系作者"}},[s._v("#")]),s._v(" 联系作者")]),s._v(" "),e("div",{attrs:{align:"center"}},[e("p",[s._v("\n        平凡世界，贵在坚持。\n    ")]),s._v(" "),e("img",{attrs:{src:s.$withBase("/about/contact.png")}})])])}),[],!1,null,null,null);a.default=n.exports}}]);