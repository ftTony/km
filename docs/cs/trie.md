# 字典树

## 前言

本人平时学习及收集内容，欢迎参入一起讨论。

## 内容

- Tire 树
- Trie 树的特点
- Trie 树的插入操作
- Trie 树的查询操作
- Trie 树的删除操作
- Trie 树的应用
- Trie 树的局限性

### 一、Tire 树

> Trie 这个名字取自“retrieval”，检索，因为 Trie 可以只用一个前缀便可以在一部字典中找到想要的单词。

Tire 树，也叫“字典树”。顾名思义，它是一个**树形结构**。它是一种专门处理字符串切尔西的数据结构，用来解决在一组字符串集合中快速查找某个字符串的问题。

此外 Trie 树也称前缀树（因为某节点的后代存在共同的前缀，比如 pan 是 panda 的前缀）。

它的 key 都为字符串，能做到高效查询和插入，时间复杂度为 O(k)，k 为空符串长度，缺点是如果大量字符串没有共同前缀时很耗内存。

**它的核心思想就是通过最大限度地减少无谓的字符串比较，舍不得查询效率，即用空间换时间，再利用共同前缀来提高查询效率。**

### 二、Trie 树的特点

假设有 5 个字符串，它们分别是：code，cook，five，file，fat。现在需要在里面多次查找某个字符串是否存在。如果每次查找，都是拿要查找字符串跟这 5 个字符串今次进行字符串匹配，那效率就比较低，有没有更高效的方法呢？

如果将这 5 个字符串组织成下图的结构，从肉眼上扫描过感官上是不是比查找起来会更加迅速。

![images](trie01.png)

通过上图，可以发现 Trie 树的三个特点：

- 根节点不包含字符，除根节点外每一个节点都只包含一个字符
- 从根节点到某一个节点，路径上经过的字符连接起来，为该节点对应的字符串
- 每个节点的所有子节点节点包含的字符都不相同

通过动画理解 Trie 树构造的过程。在构造过程中的每一步，都相当于往 Trie 树中插入一个字符串。当所有字符串都插入完成之后，Trie 树就构造好了。

![images](trie02.gif)

### 三、Trie 树的插入操作

![images](trie03.gif)

Trie 树的插入操作很简单，其实就是将单词的每个字母逐一插入 Trie 树。插入前先看字母对应的节点是否存在，存在则共享该节点，不存在则创建对应的节点。比如要插入新单词`cook`，就有下面几步：

- 插入第一个字母`c`，发现`root`节点下方存在子节点`c`，则共享节点`c`
- 插入第二个字母`o`，发现`c`节点下方存在子节点`o`，则共享节点`o`
- 插入第三个字母`o`，发现`o`节点下方不存在子节点`o`，则创建子节点`o`
- 插入第四个字母`o`，发现`o`节点下方不存在子节点`k`，则创建子节点`k`
- 至此，单词`cook`中所有字母已被插入`Trie树`中，然后设置节点`k`中的标志位，标记路径`root`->`c`->`o`->`o`->`k`这条路径上所有节点的字符可以组成一个单词`cook`

### 四、Trie 树的查询操作

在 Trie 树中查找一个字符串的时候，比如查找字符串`code`，可以将要查找的字符串分割成单个的字符 c，o，d，e，然后从 Trie 树的根节点开始匹配。如图所示，绿色的路径就是在 Trie 树中匹配的路径。

![images](trie04.jpg)

### 五、Trie 树的删除操作

### 六、Trie 树的应用

### 七、Trie 树的局限性

### 参考资料

- [看动画轻松理解「Trie 树」](https://mp.weixin.qq.com/s/Y5_r4C5a9gU0FDtqXD9bkQ)
- [Trie 树：如何实现搜索引擎的搜索关键词提示功能？](https://time.geekbang.org/column/article/72414)

## 联系作者

<div align="center">
    <p>
        平凡世界，贵在坚持。
    </p>
    <img :src="$withBase('/about/contact.png')" />
</div>
