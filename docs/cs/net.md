# 计算机网络基础

## 前言

本人平时学习及收集内容，欢迎参入一起讨论。

## 内容

- 网络层次划分
- IP 地址
- 子网掩码及网络划分
- ARP/RARP 协议
- TCP/IP 协议
- UDP 协议
- 其它协议

### 一、网络层次划分

![images](net.png)

#### 1.1 五层协议

- **应用层**：提供用户接口，特指能够发起网络流量的程序，比如客户端程序：QQ，MSN，浏览器等；服务器程序：web 服务器，邮件服务器，流媒体服务器等等。数据单位为报文。
- **运输层**：提供的是进程间的通用数据传输服务。由于应用层协议很多，定义通用的运输层协议就可以支持不断增多的应用层协议。运输层包括两种协议：
  - 传输控制协议 TCP，提供面向连接、可靠的数据传输服务，数据单位为报文段；
  - 用户数据报协议 UDP，提供无连接、尽最大努力的数据传输服务，数据单位为用户数据报。
  - TCP 主要提供完整性服务，UDP 主要提供及时性服务。
- **网络层**：为主机间提供数据传输服务，而运输层协议是为主机中的进程提供服务。网络层把运输层传递下来的报文段或者用户数据报封装成分组。（负责选择最佳路径 规划 IP 地址）
  - 路由器查看数据包目标 IP 地址，根据路由表为数据包选择路径。路由表中的类目可以人工添加（静态路由）也可以动态生成（动态路由）。
- **数据链路层**：不同的网络类型，发送数据的机制不同，数据链路层就是将数据包封装成能够在不同的网络传输的帧。能够进行差错检验，但不纠错，监测处错误丢掉该帧。
  - 帧的开始和结束，透明传输，差错校验
- **物理层**：物理层解决如何在连接各种计算机的传输媒体上传输数据比特流，而不是指具体的传输媒体。物理层的主要任务描述为：确定与传输媒体的接口的一些特性，即：
  - 机械特性：例接口形状，大小，引线数目
  - 电气特性：例规定电压范围 ( -5V 到 +5V )
  - 功能特性：例规定 -5V 表示 0，＋ 5V 表示 1
  - 过程特性：也称规程特性，规定建立连接时各个相关部件的工作步骤

#### 1.2 ISO 七层模型中表示层和会话层功能是什么？

- **表示层**：数据压缩、加密以及数据描述。这使得应用程序不必担心在各台主机中表示/存储的内部格式（二进制、ASCII，比如乱码）不同的问题。
- **会话层**：建立会话，如 session 认证、断点续传。通信的应用程序之间建立、维护和释放面向用户的连接。通信的应用程序之间建立会话，需要传输层建立 1 个或多个连接。（...后台运行的木马，netstat -n）
- **说明**：五层协议没有表示层和会话层，而是将这些功能留给应用程序开发者处理。

#### 1.3 数据在各层之间的传递过程

在向下的过程中，需要添加下层协议所需要的首部或者尾部，而在向上的过程中不断拆开首部和尾部。

1. 路由器只有下面三层协议，因为路由器位于网络核心中，不需要为进程或者应用程序提供服务，因此也就不需要运输层和应用层。
2. 交换机只有下面两层协议

![images](net01.jpg)

#### 1.4 TCP/IP 四层模型

它只有四层，相当于五层协议中**数据链路层和物理层合并为网络接口层**。

现在的 TCP/IP 体系结构不严格遵循 OSI 分层概念，应用可能会直接使用 IP 层或者网络接口层。

![images](net02.png)

TCP/IP 协议族是一种沙漏形状，中间小两边大，IP 协议在其中占用举足轻重的地位。

![images](net03.png)

### 二、IP 地址

### 三、子网掩码及网络划分

### 四、ARP/RARP 协议

### 五、TCP/UDP 协议

参考[TCP 与 UDP](https://km.xiaowuzi.info/cs/tcp.html)

### 六、其它协议

- 路由选择协议
- DNS 协议
- NAT 协议
- DHCP 协议
- HTTP 协议

#### 6.1 路由选择协议

常见的路由协议有：RIP 协议、OSPF 协议。

- **RIP 协议**：底层是贝尔曼福特算法，它选择路由的度量标准（metric)是跳数，最大跳数是 15 跳，如果大于 15 跳，它就会丢弃数据包。
- **OSPF 协议**：Open Shortest Path First 开放式最短路径优先，底层是迪杰斯特拉算法，是链路状态路由选择协议，它选择路由的度量标准是带宽，延迟。

#### 6.2 DNS 协议

DNS 是域名系统的缩写，该系统用于命名组织到域层次结构中的计算机和网络服务，**可以简单地理解为将 URL 转换为 IP 地址**。域名是由圆点分开的一串单词或缩写组成的，每一个域名都对应一个唯一的 IP 地址，在 Internet 上域名与 IP 地址之间是一一对应的，DNS 就是进行域名解析的服务器。DNS 命名用于 Internet 等 TCP/IP 网络中，通过用户友好的名称查找计算机和服务。

#### 6.3 NAT 协议

#### 6.4 DHCP 协议

#### 6.5 HTTP 协议

### 参考资料

- [计算机网络](https://github.com/frank-lam/fullstack-tutorial/blob/master/notes/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.md)
- [面试专场之「计算机网络」知识](https://mp.weixin.qq.com/s/4UCkjMpFSy_mvvHdjUVPCw)
- [计算机网络基础知识总结](https://www.cnblogs.com/maybe2030/p/4781555.html)
- [网络基础必知](https://www.cnblogs.com/renfanzi/p/5783937.html)
- [常见面试题整理--计算机网络篇（每位开发者必备）](https://zhuanlan.zhihu.com/p/24001696)
- [计算机网络太难？了解这一篇就够了](https://zhuanlan.zhihu.com/p/84316213)

## 联系作者

<div align="center">
    <p>
        平凡世界，贵在坚持。
    </p>
    <img :src="$withBase('/about/contact.png')" />
</div>
