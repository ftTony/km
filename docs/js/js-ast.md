# 解析、抽象语法树（AST）+ 提升编译速度5个技巧

## 前言

本人平时学习及收集内容，欢迎参入一起讨论。

## 内容

- [概述](#一、概述)
- [编程语言原理](#二、编程语言原理)
- [AST 程序](#三、ast-程序)
- [JavaScript 解析](#四、javascript-解析)
- [预编译](#五、预编译)
- [提升编译速度一些建议](#六、提升编译速度一些建议)

### 一、概述

我们都知道运行一大段javascript代码性能会变得很糟糕。这段代码不仅需要通过网络传输，而且还需要解析、编译成字节码，最后执行。在之前的文章中我们讨论了JS引擎、

### 二、编程语言原理

### 三、AST 程序

### 四、JavaScript 解析

### 五、预编译

但为什么不能在服务器端完成所有这些工作呢？毕竟，最好这样做一次并将结果提供给客户端，而不强制各个客户端重复做该项事情。那么，目前正在讨论引擎是否应该提供一种执行预编译脚本的方法，这样就可以节省浏览器运行时间。

在本质上讲，该思路是拥有可以生成字节码的服务器端工具，这样只需要传输字节码并在客户端运行，之后会看到启动时间的一些主要差异。这可能听起来很诱人，但事情并非那么简单，还可能会产生相反的效果，因为它会更大，并且很可能需要签署代码并出于安全原因对其进行处理。例如，V8 团队正在努力解决重复解析问题，这样预编译有可能实际并没有多大的用处。

### 六、提升编译速度一些建议

- 检查依赖，减少不必要的依赖
- 分割代码为更小的块而不是一整陀的
- 尽可能推迟加载JavaScript，按需要加载或者动态加载。
- 使用开发者工具和DeviceTiming来检测性能瓶颈
- 用像Optimize.js的工具来帮助解析器选择立即散板或者懒解析以加快解析速度

## 参考资料

- [JavaScript 是如何工作的：解析、抽象语法树（AST）+ 提升编译速度5个技巧](https://github.com/qq449245884/xiaozhi/issues/14)

## 联系作者

<div align="center">
    <p>
        平凡世界，贵在坚持。
    </p>
    <img :src="$withBase('/about/contact.png')" />
</div>