# 选择器

## 前言

本人平时学习及收集内容，欢迎参入一起讨论。

## 内容

- 元素选择器
- 关系选择器
- 属性选择器
- 伪类选择器
- 伪对象选择器

### 一、元素选择器

- 通配选择器
- 类型选择器
- ID 选择器
- 类选择器

#### 1.1 通配选择器(\*)

通用选择器，可以匹配页面所有的元素。

```
* {color:red;}
```

#### 1.2 类型选择器(E)

类型选择器，针对 Html 预定义的标签

```
a { color: red; }
ul { margin-left: 0; }
```

#### 1.3 ID 选择器(E#id)

ID 选择器的开头使用#号，id 选择器比较局限，不能重用。

```
#container {
 width: 960px;
 margin: auto;
}
```

#### 1.4 类选择器(E.class)

类选择器的开头用.（点）进行表示。与 ID 选择器的区别就是可以重用。

```
.error {
color: red;
}
```

### 二、关系选择器

- 包含选择器
- 子选择器
- 相邻选择器
- 兄弟选择器

#### 2.1 包含选择器(E F)

**包含选择器**选择所有被 E 元素包含的 F 元素。

与**子选择符**不同的是，包含选择符将会命中所有符合条件的后代，包括儿子，孙子，孙子的孙子...

```
E F { sRules }
```

#### 2.2 子选择器(E>F)

**子选择器**选择所有作为 E 元素的子元素 F。

```
E>F { sRules }
```

#### 2.3 相邻选择器(E+F)

**相邻选择器**选择紧贴在 E 元素之后 F 元素，元素 E 与 F 必须同属一个父级。

与**兄弟选择符(E~F)** 相同的是，相邻选择符也是选择同级的元素 F；不同的是，相邻选择符只会命中符合条件的那个毗邻的兄弟元素（即紧挨着 E 元素之后的第一个 F 元素）。

```
E+F { sRules }
```

#### 2.4 兄弟选择器(E~F)

**兄弟选择器(E~F)**选择 E 元素后面的所有兄弟元素 F，元素 E 与 F 必须同属一个父级。

```
E~F { sRules }
```

### 三、属性选择器

- 简单属性选择器(`E[att]`)
- 精准属性值选择器(`E[att="val"]`)
- 匹配部分属性值选择器(`E[att*="val"]`)
- 匹配属性值开头的选择器(`E[att^="val"]`)
- 匹配属性值结尾的选择器(`E[att$="val"]`)
- 自定义属性选择器(`E[att|="val"]`)
- 匹配带有空格属性的值(`E[att~="val"]`)

#### 3.1 简单属性选择器(`E[att]`)

**简单属性选择器**：选择具有 att 属性的 E 元素。

```
E[att] { sRules }
```

#### 3.2 精准属性值选择器(`E[att="val"]`)

选择具有 att 属性且属性值等于 val 的 E 元素。

```
E[att="val"] { sRules }
```

#### 3.3 匹配部分属性值选择器(`E(att*="val"`)

选择具有 att 属性且属性值为包含 val 的字符串的 E 元素。

```
E[att*="val"] { sRules }
```

#### 3.4 匹配属性值开头的选择器(`E[att^="val"]`)

选择具有 att 属性且属性值为以 val 开头的字符串的 E 元素。

```
E[att^="val"] { sRules }
```

#### 3.5 匹配属性值结尾的选择器(`E[att$="val"]`)

选择具有 att 属性且属性值为以 val 结尾的字符串的 E 元素。

```
E[att$="val"] { sRules }
```

#### 3.6 自定义属性选择器(`E[att|="val"]`)

选择具有 att 属性，其值是以 val 开头并用连接符"-"分隔的字符串的 E 元素；如果值仅为 val，也将被选择。

```
E[att|="val"] { sRules }
```

#### 3.7 匹配带有空格属性的值(`E[att~="val"]`)

选择具有 att 属性且属性值为一用空格分隔的字词列表，其中一个等于 val 的 E 元素（包含只有一个值且该值等于 val 的情况）。

```
E[att~="val"] { sRules }
```

### 四、伪类选择器

- 选中状态选择器
- 鼠标悬停状态选择器
- 否定伪类选择器
- 选择每第 n 个元素选择器
- 从后往前计算选择每第 n 个元素选择器
- 选择每第 n 个某种元素选择器
- 从后往前计算选择每第 n 个某种元素选择器
- 第一个子元素选择器
- 最后一个子元素选择器
- 选择唯一的子元素
- 匹配父元素里没有邻近兄弟元素的选择器
- 选择该类型的第一个元素选择器

#### 4.1 选中状态选择器

匹配用户界面上处于选中状态的元素 E。

```
E:checked { sRules }
```

#### 4.2 鼠标悬停状态选择器

设置元素在其鼠标悬停时的样式。

```
E:hover { sRules }
```

#### 4.3 否定伪类选择器

匹配不含有 s 选择符的元素 E。

```
E:not(s) { sRules }
```

#### 4.4 选择每第 n 个元素选择器

匹配父元素的第 n 个子元素 E，假设该子元素不是 E，则选择符无效。

```
E:nth-child(n) { sRules }
```

#### 4.5 从后往前计算选择每第 n 个元素选择器

匹配父元素的倒数第 n 个子元素 E，假设该子元素不是 E，则选择符无效。

```
E:nth-last-child(n) { sRules }
```

#### 4.6 选择每第 n 个某种元素选择器

匹配父元素的第 n 个子元素 E。

```
E:nth-of-type(n) { sRules }
```

#### 4.7 从后往前计算选择每第 n 个某种元素选择器

匹配父元素的倒数第 n 个子元素 E。

```
E:nth-last-of-type(n) { sRules }
```

#### 4.8 第一个子元素选择器

匹配父元素的第一个子元素 E。

```
E:first-child { sRules }
```

#### 4.9 最后一个子元素选择器

匹配父元素的最后一个子元素 E。

```
E:last-child { sRules }
```

#### 4.10 选择唯一的子元素

匹配父元素仅有的一个子元素 E。

```
E:only-child { sRules }
```

#### 4.11 匹配父元素里没有邻近兄弟元素的选择器

only-of-type 会匹配父元素里没有邻近兄弟元素的子元素

```
E:only-of-type { sRules }
```

#### 4.12 选择该类型的第一个元素选择器

匹配父元素下第一个类型为 E 的子元素。

```
E:first-of-type { sRules }
```

### 五、伪对象选择器

- 伪元素选择器
- 后置内容元素选择器
- 前置内容元素选择器
- 伪元素选择器

#### 5.1 伪元素选择器

- 设置对象内的第一个字符的样式。
- 设置对象内的第一行的样式。

```
E:first-letter/E::first-letter
E:first-line/E::first-line { sRules }

```

#### 5.2 后置内容元素选择器(`E:after/E::after`)

设置在对象后（依据对象树的逻辑结构）发生的内容。用来和 content 属性一起使用，并且必须定义 content 属性

```
E:after/E::after { sRules }
```

#### 5.3 前置内容元素选择器(`E:before/E::before`)

设置在对象前（依据对象树的逻辑结构）发生的内容。用来和 content 属性一起使用，并且必须定义 content 属性

```
E:before/E::before { sRules }
```

#### 5.4 伪元素选择器(`E::selection`)

设置对象被选择时的样式。

```
E::selection { sRules }
```

### 六、选择器优先级

| 权重值  | 选择器                                                                           |
| ------- | -------------------------------------------------------------------------------- |
| 1,0,0,0 | 内联样式：`style=""`                                                             |
| 0,1,0,0 | ID 选择器：`#idName{...}`                                                        |
| 0,0,1,0 | 类、伪类、属性选择器：`.className{...}` / `:hover{...}` / `[type="text"] ={...}` |
| 0,0,0,1 | 标签、伪元素选择器：`div{...}` / `:after{...}`                                   |
| 0,0,0,0 |                                                                                  | 通用选择器`（*）`、子选择器`（>）`、相邻选择器`（+）`、同胞选择器`（~）` |

> 当两个权值进行比较的时候，是从高到低逐级等级位上的权重值来进行比较的，而不 1000 个数 + 100 个数 + 10 个数 + 1 个数 的总和来进行比较的，换句话说，低等级的选择器个数再多也不会超过高等级的选择器的优先级的。

正确规则：

1. 先从高等级进行比较，高等级相同时，再比较低等级的，以此类推；
2. 完全相同的话，就采用 后者优先 原则；

在 css 中，`!important` 的权重相当的高。如果出现了`!important`，则不管权重如何都取有`!important` 的属性值。但是宽高有例外情况，由于宽高会被 `max-width/min-width` 覆盖，所以`!important` 会失效。

`!important`>`行内样式`>`ID选择器`>`类选择器/属性选择/伪类选择器`>`元素选择器/伪元素选择/属性选择`>`通配符/子选择器/相信选择器/同胞选择器`>`继承`>`浏览器默认属性`

### 参考资料

- [这 30 个 CSS 选择器，你必须熟记（上）](https://mp.weixin.qq.com/s/SGoK-eRb1KwtSN9X81SXzw)
- [这 30 个 CSS 选择器，你必须熟记（中）](https://mp.weixin.qq.com/s/-MXNffO2rRoksyRjDb8hdA)
- [这 30 个 CSS 选择器，你必须熟记（下）](https://mp.weixin.qq.com/s/ngdGJ-qzbLDqt0Mj9rPq4w)
- [「css 基础」你想知道的伪元素内容都在这篇文章里（长文值得收藏）](https://mp.weixin.qq.com/s/a8tGcnhYvq0zlkWuBHoQ-w)
- [CSS 参考手册](http://css.doyoe.com/)

## 联系作者

<div align="center">
    <p>
        平凡世界，贵在坚持。
    </p>
    <img :src="$withBase('/about/contact.png')" />
</div>
