# 单元测试

## 前言

**单元测试**：是指对软件中的最小可测试单元进行检查和验证，通常指的是独立测试单个函数。

## 内容

- 前端单元测试框架

### 一、前端单元测试框架

单元测试有 Mocha, Ava, Karma, Jest, Jasmine 等。

#### 1.1 框架对比

| 框架    | 断言                   | 仿真                 | 快照                   | 异步测试               | 环境     | 并发测试 | 测试覆盖率           |
| ------- | ---------------------- | -------------------- | ---------------------- | ---------------------- | -------- | -------- | -------------------- |
| Mocha   | 默认不支持，可配置     | 默认不支持，可配置   | 默认不支持，可配置     | 友好                   | 全局环境 | 否       | 需配置               |
| Ava     | 默认支持               | 不支持，需第三方配置 | 默认支持               | 友好                   | 隔离环境 | 是       | 不支持，需第三方配置 |
| Jasmine | 默认支持               | 默认支持             | 默认支持               | 不友好                 | 全局环境 | 否       | 不需配置             |
| Jest    | 默认支持               | 默认支持             | 默认支持               | 友好                   | 隔离环境 | 是       | 不需配置             |
| Karma   | 不支持，需要第三方配置 | 不支持，需第三方配置 | 不支持，需要第三方配置 | 不支持，需要第三方配置 | -        | -        | 需配置               |

- Mocha 是生态最好，使用最广泛的单元测试框架，但是他需要较多的配置来实现它的高扩展性。
- Ava 是更轻量高效简单的单元测试框架，但是自身不够稳定，并发运行文件多的时候会撑爆 CPU。
- Jasmine 是单元测试框架的“元老”，开箱即用，但是异步测试支持较弱。
- Jest 基于 Jasmine，做了大量修改并添加了很多特性，同样开箱即用，但异步测试支持良好。
- Karma 能在真实的浏览器中测试，强大适配器，可配置其他单元测试框架，一般会配合 Mocha 或 Jasmine 等一起使用。

### 二、Jest 入门

Jest 总归是个使用起来很简单的框架，不需要太多的学习时间就能上手了。另外如果你想学习如何用好这个框架，最好的办法其实是阅读工具库以及组件库的测试用例。

#### 2.1 Jest 介绍

### 三、Vue 中实践 Jest

### 参考资料

- [万字长文总结前端测试体系建设与最佳实践](https://mp.weixin.qq.com/s/IgA29U-etBKUls7JnpE2Zw)
- [聊一聊前端自动化测试（下）](https://mp.weixin.qq.com/s/gQZ6SDyDLY8wu5_eedkd1g)
- [【第 1022 期】聊一聊前端自动化测试（上）](https://mp.weixin.qq.com/s/KSszU-OcnLuxQ-Ap5KcFQg)
- [单元测试从零开始，包含 Vue 及 React 项目中该如何单测](https://juejin.im/post/5defacfa51882512664b076f)
- [学习测试框架 Mocha](https://www.cnblogs.com/tugenhua0707/p/8419534.html)
- [学习 Karma+Jasmine+istanbul+webpack 自动化单元测试](https://www.cnblogs.com/tugenhua0707/p/8433847.html)

## 联系作者

<div align="center">
    <p>
        平凡世界，贵在坚持。
    </p>
    <img :src="$withBase('/about/contact.png')" />
</div>
